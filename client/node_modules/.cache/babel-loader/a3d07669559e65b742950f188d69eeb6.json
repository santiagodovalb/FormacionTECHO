{"ast":null,"code":"import _defineProperty from\"/home/santi/P5/TECHO/formacion-techo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/santi/P5/TECHO/formacion-techo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/santi/P5/TECHO/formacion-techo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{Form,Input,message}from\"antd\";import\"./AdminUnidades.css\";import axios from\"axios\";import useAuthorize from\"../../../utils/authorization\";import{useSelector}from\"react-redux\";import isValid from\"../../../utils/specialChars\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";export default function AdminUnidades(_ref){var forceRender=_ref.forceRender,bloque=_ref.bloque;var user=useSelector(function(state){return state.user;});var _useState=useState({bloqueId:bloque.id}),_useState2=_slicedToArray(_useState,2),form=_useState2[0],setForm=_useState2[1];useAuthorize(user,1);var handleChange=function handleChange(e){setForm(_objectSpread(_objectSpread({},form),{},_defineProperty({},e.target.name,e.target.value)));};var handleSubmit=function handleSubmit(e){if(!isValid(form.titulo)){message.error(\"No se permiten caracteres especiales\");}else{axios.post(\"/api/unidades\",form).then(function(){return forceRender();},message.success(\"Agregado correctamente\"));}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"fs-2\",children:/*#__PURE__*/_jsxs(\"strong\",{children:[\"Agregar unidad a \",bloque===null||bloque===void 0?void 0:bloque.titulo]})}),/*#__PURE__*/_jsxs(Form,{onFinish:handleSubmit,children:[/*#__PURE__*/_jsx(Form.Item,{label:\"Titulo\",name:\"titulo\",rules:[{required:true,message:\"Por favor complete el campo\"}],children:/*#__PURE__*/_jsx(Input,{type:\"text\",onChange:handleChange,name:\"titulo\"})}),/*#__PURE__*/_jsx(Form.Item,{label:\"Link\",name:\"link\",rules:[{required:true,message:\"Por favor complete el campo\"}],children:/*#__PURE__*/_jsx(Input,{type:\"text\",onChange:handleChange,name:\"link\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"admin_unidades\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"mb-3 mt-3 p-3 fs-4 button-style green\",children:\"Agregar unidad\"})})]})]});}","map":null,"metadata":{},"sourceType":"module"}