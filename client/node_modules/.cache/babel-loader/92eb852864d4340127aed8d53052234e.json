{"ast":null,"code":"import React from\"react\";import{Link,useHistory,useLocation}from\"react-router-dom\";import{useSelector,useDispatch}from\"react-redux\";import{userLogout}from\"../../redux/login\";import Links from\"./Links\";import{BsPeopleCircle}from\"react-icons/bs\";import\"bootstrap/dist/css/bootstrap.min.css\";import\"./Sidebar.css\";import axios from\"axios\";import{setUser}from\"../../redux/login\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Sidebar=function Sidebar(){var user=useSelector(function(state){return state.user;});var dispatch=useDispatch();var history=useHistory();var handleLogout=function handleLogout(){axios.post(\"/api/users/logout\").then(function(){return dispatch(setUser({}));}).then(function(){return history.push('/');});};var handlePassword=function handlePassword(){history.push('/gestor-password');};var location=useLocation().pathname;return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar d-flex flex-column flex-shrink-0 p-3\",style:{width:\"280px\"},children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://static.wixstatic.com/media/602b79_9aea50902ee84caeafdbaf5b85ddfd19~mv2.png/v1/fill/w_420,h_140,al_c,q_95/Logo%20PNG%20en%20negativo.webp\",alt:\"logo-techo\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"img\",{className:\"volunteer_sidebar_image\",src:user.img?user.img:\"https://thumbs.dreamstime.com/b/default-avatar-profile-icon-vector-social-media-user-image-182145777.jpg\",alt:\"\"}),/*#__PURE__*/_jsx(\"h4\",{children:user.full_name}),/*#__PURE__*/_jsxs(\"ul\",{className:\"nav nav-pills flex-column mb-auto\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/user\",children:/*#__PURE__*/_jsxs(\"h6\",{className:location.includes(\"/user\")?\"nav-link link-light fs-5 fw-bolder\":\"nav-link link-light\",children:[/*#__PURE__*/_jsx(BsPeopleCircle,{}),\" Mi perfil\"]})})}),/*#__PURE__*/_jsx(Links,{})]}),/*#__PURE__*/_jsx(\"hr\",{}),user.rolId&&user.rolId===2&&/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:handlePassword,children:\" Cambiar contrase\\xF1a \"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:handleLogout,children:\"Cerrar sesi\\xF3n\"})]})});};export default Sidebar;","map":{"version":3,"sources":["/home/santi/P5/TECHO/formacion-techo/client/src/components/SideBar/Sidebar.jsx"],"names":["React","Link","useHistory","useLocation","useSelector","useDispatch","userLogout","Links","BsPeopleCircle","axios","setUser","Sidebar","user","state","dispatch","history","handleLogout","post","then","push","handlePassword","location","pathname","width","img","full_name","includes","rolId"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,CAAeC,UAAf,CAA2BC,WAA3B,KAA8C,kBAA9C,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,UAAT,KAA2B,mBAA3B,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,CACA,OAASC,cAAT,KAA+B,gBAA/B,CACA,MAAO,sCAAP,CACA,MAAO,eAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,OAAT,KAAwB,mBAAxB,C,6IAEA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,CACpB,GAAMC,CAAAA,IAAI,CAAGR,WAAW,CAAC,SAACS,KAAD,QAAWA,CAAAA,KAAK,CAACD,IAAjB,EAAD,CAAxB,CACA,GAAME,CAAAA,QAAQ,CAAGT,WAAW,EAA5B,CACA,GAAMU,CAAAA,OAAO,CAAGb,UAAU,EAA1B,CAEA,GAAMc,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzBP,KAAK,CAACQ,IAAN,CAAW,mBAAX,EACCC,IADD,CACM,iBAAMJ,CAAAA,QAAQ,CAACJ,OAAO,CAAC,EAAD,CAAR,CAAd,EADN,EAECQ,IAFD,CAEM,iBAAMH,CAAAA,OAAO,CAACI,IAAR,CAAa,GAAb,CAAN,EAFN,EAGD,CAJD,CAMA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CAC3BL,OAAO,CAACI,IAAR,CAAa,kBAAb,EACD,CAFD,CAIA,GAAME,CAAAA,QAAQ,CAAGlB,WAAW,GAAGmB,QAA/B,CAEA,mBACE,sCACE,aACE,SAAS,CAAC,8CADZ,CAEE,KAAK,CAAE,CAAEC,KAAK,CAAE,OAAT,CAFT,wBAIE,YACE,GAAG,CAAC,kJADN,CAEE,GAAG,CAAC,YAFN,EAJF,cAQE,aARF,cASE,YACE,SAAS,CAAC,yBADZ,CAEE,GAAG,CACDX,IAAI,CAACY,GAAL,CACIZ,IAAI,CAACY,GADT,CAEI,0GALR,CAOE,GAAG,CAAC,EAPN,EATF,cAkBE,oBAAKZ,IAAI,CAACa,SAAV,EAlBF,cAmBE,YAAI,SAAS,CAAC,mCAAd,wBACE,WAAI,SAAS,CAAC,UAAd,uBACE,KAAC,IAAD,EAAM,EAAE,QAAR,uBACE,YACE,SAAS,CACPJ,QAAQ,CAACK,QAAT,CAAkB,OAAlB,4DAFJ,wBAOE,KAAC,cAAD,IAPF,gBADF,EADF,EADF,cAcE,KAAC,KAAD,IAdF,GAnBF,cAmCE,aAnCF,CAoCGd,IAAI,CAACe,KAAL,EAAcf,IAAI,CAACe,KAAL,GAAe,CAA7B,eAGG,eAAQ,SAAS,CAAC,mBAAlB,CAAsC,OAAO,CAAEP,cAA/C,qCAvCN,cA2CI,eAAQ,SAAS,CAAC,mBAAlB,CAAsC,OAAO,CAAEJ,YAA/C,8BA3CJ,GADF,EADF,CAoDD,CArED,CAuEA,cAAeL,CAAAA,OAAf","sourcesContent":["import React from \"react\";\nimport { Link, useHistory, useLocation } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { userLogout } from \"../../redux/login\";\nimport Links from \"./Links\";\nimport { BsPeopleCircle } from \"react-icons/bs\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./Sidebar.css\";\nimport axios from \"axios\";\nimport { setUser } from \"../../redux/login\";\n\nconst Sidebar = () => {\n  const user = useSelector((state) => state.user);\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const handleLogout = () => {\n    axios.post(\"/api/users/logout\")\n    .then(() => dispatch(setUser({})))\n    .then(() => history.push('/'))\n  };\n\n  const handlePassword = () => {\n    history.push('/gestor-password')\n  }\n\n  const location = useLocation().pathname;\n\n  return (\n    <>\n      <div\n        className=\"sidebar d-flex flex-column flex-shrink-0 p-3\"\n        style={{ width: \"280px\" }}\n      >\n        <img\n          src=\"https://static.wixstatic.com/media/602b79_9aea50902ee84caeafdbaf5b85ddfd19~mv2.png/v1/fill/w_420,h_140,al_c,q_95/Logo%20PNG%20en%20negativo.webp\"\n          alt=\"logo-techo\"\n        />\n        <hr />\n        <img\n          className=\"volunteer_sidebar_image\"\n          src={\n            user.img\n              ? user.img\n              : \"https://thumbs.dreamstime.com/b/default-avatar-profile-icon-vector-social-media-user-image-182145777.jpg\"\n          }\n          alt=\"\"\n        />\n        <h4>{user.full_name}</h4>\n        <ul className=\"nav nav-pills flex-column mb-auto\">\n          <li className=\"nav-item\">\n            <Link to={`/user`}>\n              <h6\n                className={\n                  location.includes(\"/user\")\n                    ? `nav-link link-light fs-5 fw-bolder`\n                    : `nav-link link-light`\n                }\n              >\n                <BsPeopleCircle /> Mi perfil\n              </h6>\n            </Link>\n          </li>\n          <Links />\n        </ul>\n        <hr />\n        {user.rolId && user.rolId === 2 && (\n        \n            \n            <button className=\"btn btn-secondary\" onClick={handlePassword}> Cambiar contraseña </button>\n          \n        )}\n          \n          <button className=\"btn btn-secondary\" onClick={handleLogout}>\n            \n            Cerrar sesión\n          </button>\n      </div>\n    </>\n  );\n};\n\nexport default Sidebar;\n"]},"metadata":{},"sourceType":"module"}