{"ast":null,"code":"import _slicedToArray from\"/home/santi/P5/TECHO/formacion-techo/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import axios from\"axios\";import React,{useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{getSedes}from\"../../../redux/sedes\";import Sedes from\"./ListaSedes\";import{Button,Form,Input,InputNumber}from\"antd\";import{message}from\"antd\";import useAuthorize from\"../../../utils/authorization\";import isValid from\"../../../utils/specialChars\";import\"./AdminSedes.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function AdminSedes(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),form=_useState2[0],setForm=_useState2[1];var dispatch=useDispatch();var user=useSelector(function(state){return state.user;});var onFinish=function onFinish(){if(!isValid(form.nombre))return message.error(\"No se permiten caracteres especiales\");axios.post(\"/api/sedes/\",form).then(function(res){if(res.data){message.success(\"Sede creada correctamente\");}}).then(function(){dispatch(getSedes());}).catch(function(err){return message.warning(\"No se pudo crear la sede\");});};var handleChange=function handleChange(obj,obj2){setForm(obj2);};var toggleForm=function toggleForm(){document.getElementById(\"newSede\").style.display=document.getElementById(\"newSede\").style.display===\"block\"?\"none\":\"block\";};useAuthorize(user,1);return/*#__PURE__*/_jsxs(\"div\",{className:\"wh-100 text-center p-5 justify-content-center align-items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-auto\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"fs-2 text-secondary text-center\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Gestionar sedes\"})}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:toggleForm,className:\"my-5 p-3 fs-4 button-style green\",children:\"Crear nueva sede\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"createSede\",children:/*#__PURE__*/_jsxs(Form,{style:{display:\"none\"},name:\"newSede\",labelCol:{span:8},wrapperCol:{span:8},initialValues:{remember:true},onValuesChange:function onValuesChange(obj,obj2){return handleChange(obj,obj2);},onFinish:onFinish,children:[/*#__PURE__*/_jsx(Form.Item,{label:\"Comunidad Id\",name:\"comunidadId\",children:/*#__PURE__*/_jsx(InputNumber,{})}),/*#__PURE__*/_jsx(Form.Item,{label:\"Nombre\",name:\"nombre\",children:/*#__PURE__*/_jsx(Input.TextArea,{})}),/*#__PURE__*/_jsx(Button,{style:{display:form.nombre?\"block\":\"none\"},htmlType:\"submit\",type:\"submit\",children:\"Crear sede\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"table\",children:/*#__PURE__*/_jsx(Sedes,{})})]});}","map":null,"metadata":{},"sourceType":"module"}