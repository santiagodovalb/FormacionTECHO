{"ast":null,"code":"var _jsxFileName = \"/home/santi/P5/TECHO/formacion-techo/src/containers/Admin/AdminBloques/Unidades.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { Form, Input, message } from \"antd\";\nimport axios from \"axios\";\nimport Swal from 'sweetalert2';\nimport useAuthorize from \"../../../utils/authorization\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Unidades({\n  forceRender,\n  unidades\n}) {\n  _s();\n\n  const [form, setForm] = useState({});\n  const history = useHistory();\n\n  const handleClick = id => {\n    document.getElementById(`unidad${id}`).style.display = document.getElementById(`unidad${id}`).style.display === \"none\" ? \"block\" : \"none\";\n  };\n\n  const handleChange = e => {\n    setForm({ ...form,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleSubmit = (e, id) => {\n    axios.put(`/api/unidades/${id}`, form).then(() => history.push(\"/admin-bloques\"));\n  };\n\n  const alertaEliminar = Swal.mixin({\n    customClass: {\n      confirmButton: 'btn btn-success',\n      cancelButton: 'btn btn-danger'\n    },\n    buttonsStyling: false\n  });\n\n  const handleDelete = id => {\n    console.log(\"AIDI\", id);\n    alertaEliminar.fire({\n      title: 'Estás seguro?',\n      text: \"Si lo confirmas, no podrás deshacerlo!\",\n      icon: 'warning',\n      showCancelButton: true,\n      confirmButtonText: 'Si, borrar!',\n      cancelButtonText: 'No, cancelar!',\n      reverseButtons: true\n    }).then(result => {\n      if (result.isConfirmed) {\n        alertaEliminar.fire('Eliminado!', 'El módulo fue eliminado correctamente.', 'success');\n        axios.delete(`/api/unidades/${id}`).then(() => forceRender());\n      } else if (result.dismiss === Swal.DismissReason.cancel) {\n        alertaEliminar.fire('Cancelado', 'El módulo está a salvo', 'error');\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: unidades === null || unidades === void 0 ? void 0 : unidades.map(unidad => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"admin\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"mb-3 mt-3 p-3 fs-3 button-style light-blue\",\n            onClick: () => handleClick(unidad.id),\n            type: \"button\",\n            children: unidad.titulo\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Form, {\n          style: {\n            display: 'none'\n          },\n          labelCol: {\n            span: 5\n          },\n          wrapperCol: {\n            span: 13\n          },\n          onFinish: e => handleSubmit(e, unidad.id),\n          id: `unidad${unidad.id}`,\n          children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n            label: \"Titulo\",\n            children: /*#__PURE__*/_jsxDEV(Input, {\n              type: \"text\",\n              name: \"titulo\",\n              onChange: handleChange,\n              defaultValue: unidad.titulo\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n            label: \"Link\",\n            children: /*#__PURE__*/_jsxDEV(Input, {\n              type: \"text\",\n              name: \"link\",\n              onChange: handleChange,\n              defaultValue: unidad.link\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"admin\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"mb-3 mt-3 p-3 fs-3 button-style light-blue\",\n              htmlType: \"submit\",\n              children: \"Modificar unidad\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"mb-3 mt-3 p-3 fs-3 button-style green\",\n              type: \"button\",\n              onClick: () => handleDelete(unidad.id),\n              children: [\"Eliminar Unidad\", \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this);\n    })\n  }, void 0, false);\n}\n\n_s(Unidades, \"3gyhqnkxjw7vWaGUuotc1eOFUa0=\", false, function () {\n  return [useHistory];\n});\n\n_c = Unidades;\n\nvar _c;\n\n$RefreshReg$(_c, \"Unidades\");","map":{"version":3,"sources":["/home/santi/P5/TECHO/formacion-techo/src/containers/Admin/AdminBloques/Unidades.jsx"],"names":["React","useState","useHistory","Form","Input","message","axios","Swal","useAuthorize","Unidades","forceRender","unidades","form","setForm","history","handleClick","id","document","getElementById","style","display","handleChange","e","target","name","value","handleSubmit","put","then","push","alertaEliminar","mixin","customClass","confirmButton","cancelButton","buttonsStyling","handleDelete","console","log","fire","title","text","icon","showCancelButton","confirmButtonText","cancelButtonText","reverseButtons","result","isConfirmed","delete","dismiss","DismissReason","cancel","map","unidad","titulo","span","link"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { Form, Input, message } from \"antd\";\nimport axios from \"axios\";\nimport Swal from 'sweetalert2'\nimport useAuthorize from \"../../../utils/authorization\";\n\nexport default function Unidades({ forceRender, unidades }) {\n  const [form, setForm] = useState({});\n  const history = useHistory();\n\n  const handleClick = (id) => {\n    document.getElementById(`unidad${id}`).style.display =\n      document.getElementById(`unidad${id}`).style.display === \"none\"\n        ? \"block\"\n        : \"none\";\n  };\n\n  const handleChange = (e) => {\n    setForm({ ...form, [e.target.name]: e.target.value });\n  };\n\n  const handleSubmit = (e, id) => {\n    axios\n      .put(`/api/unidades/${id}`, form)\n      .then(() => history.push(\"/admin-bloques\"));\n  };\n\n  const alertaEliminar = Swal.mixin({\n    customClass: {\n      confirmButton: 'btn btn-success',\n      cancelButton: 'btn btn-danger'\n    },\n    buttonsStyling: false\n  })\n\n  const handleDelete = (id) => {\n    console.log(\"AIDI\", id);\n    alertaEliminar.fire({\n      title: 'Estás seguro?',\n      text: \"Si lo confirmas, no podrás deshacerlo!\",\n      icon: 'warning',\n      showCancelButton: true,\n      confirmButtonText: 'Si, borrar!',\n      cancelButtonText: 'No, cancelar!',\n      reverseButtons: true\n    }).then((result) => {\n      if (result.isConfirmed) {\n        alertaEliminar.fire(\n          'Eliminado!',\n          'El módulo fue eliminado correctamente.',\n          'success'\n        )\n        axios\n          .delete(`/api/unidades/${id}`)\n          .then(() => forceRender());\n      } else if (\n        result.dismiss === Swal.DismissReason.cancel\n      ) {\n        alertaEliminar.fire(\n          'Cancelado',\n          'El módulo está a salvo',\n          'error'\n        )\n      }\n    })\n  };\n\n  return (\n    <>\n      {unidades?.map((unidad) => {\n        return (\n          <div>\n              <div className=\"admin\">\n            <button\n              className=\"mb-3 mt-3 p-3 fs-3 button-style light-blue\"\n              onClick={() => handleClick(unidad.id)}\n              type=\"button\"\n            >\n              {unidad.titulo}\n            </button>\n              </div>\n            <Form\n              style={{display: 'none'}}\n              labelCol={{\n                span: 5,\n              }}\n              wrapperCol={{\n                span: 13,\n              }}\n              onFinish={(e) => handleSubmit(e, unidad.id)}\n              id={`unidad${unidad.id}`}\n            >\n              <Form.Item label=\"Titulo\">\n                <Input\n                  type=\"text\"\n                  name=\"titulo\"\n                  onChange={handleChange}\n                  defaultValue={unidad.titulo}\n                ></Input>\n              </Form.Item>\n              <Form.Item label=\"Link\">\n                <Input\n                  type=\"text\"\n                  name=\"link\"\n                  onChange={handleChange}\n                  defaultValue={unidad.link}\n                ></Input>\n              </Form.Item>\n              <div className=\"admin\">\n\n              <button\n                className=\"mb-3 mt-3 p-3 fs-3 button-style light-blue\"\n                htmlType=\"submit\"\n              >\n                Modificar unidad\n              </button>\n            <button\n              className=\"mb-3 mt-3 p-3 fs-3 button-style green\"\n              type=\"button\"\n              onClick={() => handleDelete(unidad.id)}\n            >\n              Eliminar Unidad{\" \"}\n            </button>\n              </div>\n            </Form>\n            <br />\n          </div>\n        );\n      })}\n    </>\n  );\n}\n\n"]},"metadata":{},"sourceType":"module"}