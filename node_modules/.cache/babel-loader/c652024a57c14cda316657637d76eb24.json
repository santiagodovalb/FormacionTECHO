{"ast":null,"code":"import _defineProperty from\"/home/santi/P5/TECHO/formacion-techo/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/santi/P5/TECHO/formacion-techo/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/santi/P5/TECHO/formacion-techo/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{Form,Input,message}from\"antd\";import\"./AdminUnidades.css\";import axios from\"axios\";import useAuthorize from\"../../../utils/authorization\";import{useSelector}from\"react-redux\";import isValid from\"../../../utils/specialChars\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";export default function AdminUnidades(_ref){var forceRender=_ref.forceRender,bloque=_ref.bloque;var user=useSelector(function(state){return state.user;});var _useState=useState({bloqueId:bloque.id}),_useState2=_slicedToArray(_useState,2),form=_useState2[0],setForm=_useState2[1];useAuthorize(user,1);var handleChange=function handleChange(e){setForm(_objectSpread(_objectSpread({},form),{},_defineProperty({},e.target.name,e.target.value)));};var handleSubmit=function handleSubmit(e){if(!isValid(form.titulo)){message.error(\"No se permiten caracteres especiales\");}else{axios.post(\"/api/unidades\",form).then(function(){return forceRender();},message.success(\"Agregado correctamente\"));}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"fs-2\",children:/*#__PURE__*/_jsxs(\"strong\",{children:[\"Agregar unidad a \",bloque===null||bloque===void 0?void 0:bloque.titulo]})}),/*#__PURE__*/_jsxs(Form,{onFinish:handleSubmit,children:[/*#__PURE__*/_jsx(Form.Item,{label:\"Titulo\",name:\"titulo\",rules:[{required:true,message:\"Por favor complete el campo\"}],children:/*#__PURE__*/_jsx(Input,{type:\"text\",onChange:handleChange,name:\"titulo\"})}),/*#__PURE__*/_jsx(Form.Item,{label:\"Link\",name:\"link\",rules:[{required:true,message:\"Por favor complete el campo\"}],children:/*#__PURE__*/_jsx(Input,{type:\"text\",onChange:handleChange,name:\"link\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"admin_unidades\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"mb-3 mt-3 p-3 fs-4 button-style green\",children:\"Agregar unidad\"})})]})]});}","map":{"version":3,"sources":["/home/santi/P5/TECHO/formacion-techo/src/containers/Admin/AdminUnidades/AdminUnidades.jsx"],"names":["React","useState","Form","Input","message","axios","useAuthorize","useSelector","isValid","AdminUnidades","forceRender","bloque","user","state","bloqueId","id","form","setForm","handleChange","e","target","name","value","handleSubmit","titulo","error","post","then","success","required"],"mappings":"sWAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,IAAT,CAAeC,KAAf,CAAsBC,OAAtB,KAAqC,MAArC,CACA,MAAO,qBAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,YAAP,KAAyB,8BAAzB,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,MAAOC,CAAAA,OAAP,KAAoB,6BAApB,C,wFAEA,cAAe,SAASC,CAAAA,aAAT,MAAgD,IAAvBC,CAAAA,WAAuB,MAAvBA,WAAuB,CAAVC,MAAU,MAAVA,MAAU,CAC7D,GAAMC,CAAAA,IAAI,CAAGL,WAAW,CAAC,SAACM,KAAD,QAAWA,CAAAA,KAAK,CAACD,IAAjB,EAAD,CAAxB,CACA,cAAwBX,QAAQ,CAAC,CAAEa,QAAQ,CAAEH,MAAM,CAACI,EAAnB,CAAD,CAAhC,wCAAOC,IAAP,eAAaC,OAAb,eACAX,YAAY,CAACM,IAAD,CAAO,CAAP,CAAZ,CACA,GAAMM,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAO,CAC1BF,OAAO,gCAAMD,IAAN,wBAAaG,CAAC,CAACC,MAAF,CAASC,IAAtB,CAA6BF,CAAC,CAACC,MAAF,CAASE,KAAtC,GAAP,CACD,CAFD,CAIA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACJ,CAAD,CAAO,CAC1B,GAAI,CAACX,OAAO,CAACQ,IAAI,CAACQ,MAAN,CAAZ,CAA2B,CACzBpB,OAAO,CAACqB,KAAR,CAAc,sCAAd,EACD,CAFD,IAEO,CACLpB,KAAK,CACFqB,IADH,CACQ,eADR,CACyBV,IADzB,EAEGW,IAFH,CAEQ,iBAAMjB,CAAAA,WAAW,EAAjB,EAFR,CAE6BN,OAAO,CAACwB,OAAR,CAAgB,wBAAhB,CAF7B,EAGD,CACF,CARD,CAUA,mBACE,oCACE,WAAI,SAAS,CAAC,MAAd,uBACE,8CAA0BjB,MAA1B,SAA0BA,MAA1B,iBAA0BA,MAAM,CAAEa,MAAlC,GADF,EADF,cAIE,MAAC,IAAD,EAAM,QAAQ,CAAED,YAAhB,wBACE,KAAC,IAAD,CAAM,IAAN,EACE,KAAK,CAAC,QADR,CAEE,IAAI,CAAC,QAFP,CAGE,KAAK,CAAE,CACL,CACEM,QAAQ,CAAE,IADZ,CAEEzB,OAAO,CAAE,6BAFX,CADK,CAHT,uBAUE,KAAC,KAAD,EAAO,IAAI,CAAC,MAAZ,CAAmB,QAAQ,CAAEc,YAA7B,CAA2C,IAAI,CAAC,QAAhD,EAVF,EADF,cAaE,KAAC,IAAD,CAAM,IAAN,EACE,KAAK,CAAC,MADR,CAEE,IAAI,CAAC,MAFP,CAGE,KAAK,CAAE,CACL,CACEW,QAAQ,CAAE,IADZ,CAEEzB,OAAO,CAAE,6BAFX,CADK,CAHT,uBAUE,KAAC,KAAD,EAAO,IAAI,CAAC,MAAZ,CAAmB,QAAQ,CAAEc,YAA7B,CAA2C,IAAI,CAAC,MAAhD,EAVF,EAbF,cAyBE,YAAK,SAAS,CAAC,gBAAf,uBACE,eACE,IAAI,CAAC,QADP,CAEE,SAAS,CAAC,uCAFZ,4BADF,EAzBF,GAJF,GADF,CAyCD","sourcesContent":["import React, { useState } from \"react\";\nimport { Form, Input, message } from \"antd\";\nimport \"./AdminUnidades.css\";\nimport axios from \"axios\";\nimport useAuthorize from \"../../../utils/authorization\";\nimport { useSelector } from \"react-redux\";\nimport isValid from \"../../../utils/specialChars\";\n\nexport default function AdminUnidades({ forceRender, bloque }) {\n  const user = useSelector((state) => state.user);\n  const [form, setForm] = useState({ bloqueId: bloque.id });\n  useAuthorize(user, 1);\n  const handleChange = (e) => {\n    setForm({ ...form, [e.target.name]: e.target.value });\n  };\n\n  const handleSubmit = (e) => {\n    if (!isValid(form.titulo)) {\n      message.error(\"No se permiten caracteres especiales\");\n    } else {\n      axios\n        .post(\"/api/unidades\", form)\n        .then(() => forceRender(), message.success(\"Agregado correctamente\"));\n    }\n  };\n\n  return (\n    <div>\n      <h1 className=\"fs-2\">\n        <strong>Agregar unidad a {bloque?.titulo}</strong>\n      </h1>\n      <Form onFinish={handleSubmit}>\n        <Form.Item\n          label=\"Titulo\"\n          name=\"titulo\"\n          rules={[\n            {\n              required: true,\n              message: \"Por favor complete el campo\",\n            },\n          ]}\n        >\n          <Input type=\"text\" onChange={handleChange} name=\"titulo\"></Input>\n        </Form.Item>\n        <Form.Item\n          label=\"Link\"\n          name=\"link\"\n          rules={[\n            {\n              required: true,\n              message: \"Por favor complete el campo\",\n            },\n          ]}\n        >\n          <Input type=\"text\" onChange={handleChange} name=\"link\"></Input>\n        </Form.Item>\n        <div className=\"admin_unidades\">\n          <button\n            type=\"submit\"\n            className=\"mb-3 mt-3 p-3 fs-4 button-style green\"\n          >\n            Agregar unidad\n          </button>\n        </div>\n      </Form>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}