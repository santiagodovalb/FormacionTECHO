{"ast":null,"code":"import _slicedToArray from\"/home/santi/P5/TECHO/formacion-techo/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import axios from\"axios\";import React,{useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{getSedes}from\"../../../redux/sedes\";import Sedes from\"./ListaSedes\";import{Button,Form,Input,InputNumber}from\"antd\";import{message}from\"antd\";import useAuthorize from\"../../../utils/authorization\";import isValid from\"../../../utils/specialChars\";import\"./AdminSedes.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function AdminSedes(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),form=_useState2[0],setForm=_useState2[1];var dispatch=useDispatch();var user=useSelector(function(state){return state.user;});var onFinish=function onFinish(){if(!isValid(form.nombre))return message.error(\"No se permiten caracteres especiales\");axios.post(\"/api/sedes/\",form).then(function(res){if(res.data){message.success(\"Sede creada correctamente\");}}).then(function(){dispatch(getSedes());}).catch(function(err){return message.warning(\"No se pudo crear la sede\");});};var handleChange=function handleChange(obj,obj2){setForm(obj2);};var toggleForm=function toggleForm(){document.getElementById(\"newSede\").style.display=document.getElementById(\"newSede\").style.display===\"block\"?\"none\":\"block\";};useAuthorize(user,1);return/*#__PURE__*/_jsxs(\"div\",{className:\"wh-100 text-center p-5 justify-content-center align-items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-auto\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"fs-2 text-secondary text-center\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Gestionar sedes\"})}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:toggleForm,className:\"my-5 p-3 fs-4 button-style green\",children:\"Crear nueva sede\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"createSede\",children:/*#__PURE__*/_jsxs(Form,{style:{display:\"none\"},name:\"newSede\",labelCol:{span:8},wrapperCol:{span:8},initialValues:{remember:true},onValuesChange:function onValuesChange(obj,obj2){return handleChange(obj,obj2);},onFinish:onFinish,children:[/*#__PURE__*/_jsx(Form.Item,{label:\"Comunidad Id\",name:\"comunidadId\",children:/*#__PURE__*/_jsx(InputNumber,{})}),/*#__PURE__*/_jsx(Form.Item,{label:\"Nombre\",name:\"nombre\",children:/*#__PURE__*/_jsx(Input.TextArea,{})}),/*#__PURE__*/_jsx(Button,{style:{display:form.nombre?\"block\":\"none\"},htmlType:\"submit\",type:\"submit\",children:\"Crear sede\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"table\",children:/*#__PURE__*/_jsx(Sedes,{})})]});}","map":{"version":3,"sources":["/home/santi/P5/TECHO/formacion-techo/src/containers/Admin/AdminSedes/AdminSedes.jsx"],"names":["axios","React","useState","useDispatch","useSelector","getSedes","Sedes","Button","Form","Input","InputNumber","message","useAuthorize","isValid","AdminSedes","form","setForm","dispatch","user","state","onFinish","nombre","error","post","then","res","data","success","catch","err","warning","handleChange","obj","obj2","toggleForm","document","getElementById","style","display","span","remember"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getSedes } from \"../../../redux/sedes\";\nimport Sedes from \"./ListaSedes\";\nimport { Button, Form, Input, InputNumber } from \"antd\";\nimport { message } from \"antd\";\nimport useAuthorize from \"../../../utils/authorization\";\nimport isValid from \"../../../utils/specialChars\";\nimport \"./AdminSedes.css\";\n\nexport default function AdminSedes() {\n  const [form, setForm] = useState({});\n\n  const dispatch = useDispatch();\n\n  const user = useSelector((state) => state.user);\n\n  const onFinish = () => {\n    if (!isValid(form.nombre))\n      return message.error(\"No se permiten caracteres especiales\");\n    axios\n      .post(`/api/sedes/`, form)\n      .then((res) => {\n        if (res.data) {\n          message.success(\"Sede creada correctamente\");\n        }\n      })\n      .then(() => {\n        dispatch(getSedes());\n      })\n      .catch((err) => message.warning(\"No se pudo crear la sede\"));\n  };\n\n  const handleChange = (obj, obj2) => {\n    setForm(obj2);\n  };\n\n  const toggleForm = () => {\n    document.getElementById(\"newSede\").style.display =\n      document.getElementById(\"newSede\").style.display === \"block\"\n        ? \"none\"\n        : \"block\";\n  };\n\n  useAuthorize(user, 1);\n\n  return (\n    <div className=\"wh-100 text-center p-5 justify-content-center align-items-center\">\n      <div className=\"col-auto\">\n        <h1 className=\"fs-2 text-secondary text-center\">\n          <strong>Gestionar sedes</strong>\n        </h1>\n        <button\n          type=\"button\"\n          onClick={toggleForm}\n          className=\"my-5 p-3 fs-4 button-style green\"\n        >\n          Crear nueva sede\n        </button>\n      </div>\n      <div className=\"createSede\">\n        <Form\n          style={{ display: \"none\" }}\n          name=\"newSede\"\n          labelCol={{\n            span: 8,\n          }}\n          wrapperCol={{\n            span: 8,\n          }}\n          initialValues={{\n            remember: true,\n          }}\n          onValuesChange={(obj, obj2) => handleChange(obj, obj2)}\n          onFinish={onFinish}\n        >\n          <Form.Item label=\"Comunidad Id\" name=\"comunidadId\">\n            <InputNumber />\n          </Form.Item>\n          <Form.Item label=\"Nombre\" name=\"nombre\">\n            <Input.TextArea />\n          </Form.Item>\n          <Button\n            style={{ display: form.nombre ? \"block\" : \"none\" }}\n            htmlType=\"submit\"\n            type=\"submit\"\n          >\n            Crear sede\n          </Button>\n        </Form>\n      </div>\n      <div className=\"table\">\n        <Sedes />\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}