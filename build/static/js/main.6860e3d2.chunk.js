(this["webpackJsonpformacion-techo"]=this["webpackJsonpformacion-techo"]||[]).push([[0],{201:function(e,t,n){},202:function(e,t,n){},241:function(e,t,n){},242:function(e,t,n){},243:function(e,t,n){},244:function(e,t,n){},262:function(e,t,n){},293:function(e,t,n){},294:function(e,t,n){},295:function(e,t,n){},375:function(e,t,n){},454:function(e,t,n){},522:function(e,t,n){},531:function(e,t,n){},532:function(e,t,n){},536:function(e,t,n){},537:function(e,t,n){},538:function(e,t,n){},539:function(e,t,n){},540:function(e,t,n){},541:function(e,t,n){},542:function(e,t,n){},543:function(e,t,n){"use strict";n.r(t);n(262);var c,r=n(1),a=n.n(r),s=n(40),i=n.n(s),o=n(11),l=n(6),u=n(34),d=Object(u.b)("SET-USER"),b=Object(u.d)({},Object(l.a)({},d,(function(e,t){return t.payload}))),j=n(24),m=n(14),f=n.n(m),h=n(31),O=Object(u.c)("SET-USER-LOGGED",(function(){return f.a.get("/api/users/me").then((function(e){return e.data}))})),x=Object(u.c)("SET-USER",(function(e){return f.a.post("/api/users/login",e).then((function(e){return e.data}))})),p=Object(u.c)("USER-LOGOUT",(function(){return f.a.post("/api/users/logout").then((function(e){return e.data}))})),v=(Object(u.d)({},(c={},Object(l.a)(c,O.fulfilled,(function(e,t){return t.payload})),Object(l.a)(c,x.fulfilled,(function(e,t){return t.payload})),Object(l.a)(c,p.fulfilled,(function(e,t){return t.payload})),c)),n(89)),g=n(111),y=n(81),N=n(2),I=[{rolId:1,list:[{link:"/admin-crear-gestor",name:"Crear Gestor",icon:Object(N.jsx)(y.a,{})},{link:"/admin-bloques",name:"Gestionar Bloques",icon:Object(N.jsx)(v.a,{})},{link:"/admin-usuarios",name:"Gestionar Usuarios",icon:Object(N.jsx)(y.d,{})},{link:"/admin-sedes",name:"Gestionar Sedes",icon:Object(N.jsx)(g.a,{})},{link:"/admin-roles",name:"Gestionar Roles",icon:Object(N.jsx)(y.a,{})},{link:"/admin/dashboard",name:"Panel Nacional",icon:Object(N.jsx)(y.c,{})}]},{rolId:2,list:[{link:"/gestor/voluntarios",name:"Gestionar voluntarios",icon:Object(N.jsx)(y.d,{})},{link:"/gestor/entregas",name:"Gestionar entregas",icon:Object(N.jsx)(y.b,{})},{link:"/gestor/dashboard",name:"Panel de sede",icon:Object(N.jsx)(y.c,{})}]},{rolId:3,list:[{link:"/mis-bloques",name:"Mis Bloques",icon:Object(N.jsx)(v.a,{})},{link:"/mis-entregas",name:"Mis Entregas",icon:Object(N.jsx)(y.b,{})},{link:"/sede",name:"Elegir o modificar sede",icon:Object(N.jsx)(g.a,{})}]}];var k=function(){var e=Object(o.c)((function(e){return e.user})),t=Object(j.h)().pathname;return Object(N.jsxs)("div",{children:[(void 0!==e.rolId||null===e.rolId)&&function(n,c){var r=function(t,n){return null===e.rolId||e.rolId>3?t.find((function(e){return 3===e.rolId})):t.find((function(e){return e.rolId===n}))}(n,c);return 1===c?Object(N.jsxs)("li",{children:[Object(N.jsx)("strong",{children:Object(N.jsxs)("h6",{className:"btn btn-toggle link-light fs-5 fw-bolder",style:{padding:"0px 16px"},"data-bs-toggle":"collapse","data-bs-target":"#orders-collapse",children:[Object(N.jsx)(v.c,{})," Ver m\xe1s"]})}),Object(N.jsx)("div",{className:"collapse",id:"orders-collapse",children:Object(N.jsx)("ul",{className:"btn-toggle-nav list-unstyled fw-normal pb-1 small",children:r.list.map((function(e,n){return Object(N.jsx)("li",{className:"nav-item",children:Object(N.jsx)(h.b,{to:"".concat(e.link),children:Object(N.jsx)("strong",{children:Object(N.jsxs)("h6",{className:t.includes(e.link)?"nav-link link-light fs-5 fw-bolder":"nav-link link-light",children:[e.icon," ",e.name]})})},c)},"navbar-".concat(c,"-").concat(n))}))})})]}):r.list.map((function(e,n){return Object(N.jsx)("li",{className:"nav-item",children:Object(N.jsx)(h.b,{to:"".concat(e.link),children:Object(N.jsx)("strong",{children:Object(N.jsxs)("h6",{className:t.includes(e.link)?"nav-link link-light fs-5 fw-bolder":"nav-link link-light",children:[e.icon," ",e.name]})})},c)},"navbar-".concat(c,"-").concat(n))}))}(I,e.rolId)," "]})},C=(n(184),n(293),function(){var e=Object(o.c)((function(e){return e.user})),t=Object(o.b)(),n=Object(j.g)(),c=Object(j.h)().pathname;return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)("div",{className:"sidebar d-flex flex-column flex-shrink-0 p-3",style:{width:"280px"},children:[Object(N.jsx)("img",{src:"https://static.wixstatic.com/media/602b79_9aea50902ee84caeafdbaf5b85ddfd19~mv2.png/v1/fill/w_420,h_140,al_c,q_95/Logo%20PNG%20en%20negativo.webp",alt:"logo-techo"}),Object(N.jsx)("hr",{}),Object(N.jsx)("img",{className:"volunteer_sidebar_image",src:e.img?e.img:"https://thumbs.dreamstime.com/b/default-avatar-profile-icon-vector-social-media-user-image-182145777.jpg",alt:""}),Object(N.jsx)("h4",{children:e.full_name}),Object(N.jsxs)("ul",{className:"nav nav-pills flex-column mb-auto",children:[Object(N.jsx)("li",{className:"nav-item",children:Object(N.jsx)(h.b,{to:"/user",children:Object(N.jsxs)("h6",{className:c.includes("/user")?"nav-link link-light fs-5 fw-bolder":"nav-link link-light",children:[Object(N.jsx)(v.b,{})," Mi perfil"]})})}),Object(N.jsx)(k,{})]}),Object(N.jsx)("hr",{}),e.rolId&&2===e.rolId&&Object(N.jsx)("button",{className:"btn btn-secondary",onClick:function(){n.push("/gestor-password")},children:" Cambiar contrase\xf1a "}),Object(N.jsx)("button",{className:"btn btn-secondary",onClick:function(){e.id&&t(p()),n.push("/")},children:"Cerrar sesi\xf3n"})]})})});var q=function(){var e,t,n=Object(o.c)((function(e){return e.user})),c=Object(j.h)().pathname;return Object(N.jsxs)("div",{children:[(void 0!==n.rolId||null===n.rolId)&&(e=I,t=n.rolId,function(e,t){return null===n.rolId||n.rolId>3?e.find((function(e){return 3===e.rolId})):e.find((function(e){return e.rolId===t}))}(e,t).list.map((function(e,n){return Object(N.jsx)("li",{className:"nav-item",children:Object(N.jsx)(h.b,{to:"".concat(e.link),children:Object(N.jsx)("p",{className:c.includes(e.link)?"nav-link link-light active":"nav-link link-light",children:e.name})},t)},"navbar-".concat(t,"-").concat(n))})))," "]})},S=(n(294),function(){var e=Object(o.c)((function(e){return e.user})),t=Object(o.b)();return Object(N.jsx)("div",{children:Object(N.jsx)("nav",{className:"d-block d-md-none navbar navbar-expand-lg navbar-dark",children:Object(N.jsxs)("div",{className:"container-fluid",children:[Object(N.jsx)("img",{src:"data:image/png;base64,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",alt:"logo techo"}),Object(N.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(N.jsx)("span",{className:"navbar-toggler-icon"})}),Object(N.jsx)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:Object(N.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[Object(N.jsx)("li",{className:"nav-item",children:Object(N.jsx)(h.b,{to:"/user",children:Object(N.jsx)("p",{className:"nav-link",children:"Mi perfil"})})}),Object(N.jsx)(q,{}),Object(N.jsx)("hr",{}),e.rolId&&2===e.rolId&&Object(N.jsxs)(h.b,{to:"/gestor-password",children:[" ",Object(N.jsx)("button",{children:" Cambiar contrase\xf1a "})]}),Object(N.jsxs)(h.b,{to:"/login",children:[" ",Object(N.jsx)("button",{onClick:function(){e.id&&t(p())},children:" Cerrar sesi\xf3n"})]})]})})]})})})}),E=(n(295),n.p+"static/media/login.9ab06720.jpg"),w={width:"100vw",height:"100vh",backgroundImage:'url("'.concat(E,'")'),backgroundRepeat:"no-repeat",backgroundSize:"cover"},B=n.p+"static/media/logo.b9e3a66f.png",A=(n(125),n(3)),P=n(8),T=n(257),R=n(248),F=n.n(R),G=function(){var e=Object(o.b)(),t=Object(j.g)(),n=Object(r.useState)({}),c=Object(P.a)(n,2),a=c[0],s=c[1];return Object(N.jsxs)("form",{className:"pb-3",onChange:function(e){var t=e.target;s(Object(A.a)(Object(A.a)({},a),{},Object(l.a)({},t.name,t.value)))},onSubmit:function(n){n.preventDefault(),F.a.isEmail(a.email)&&f.a.post("/api/users/login",a).then((function(e){return e.data})).then((function(e){return f.a.get("/api/users/".concat(e.id))})).then((function(e){return e.data})).then((function(n){e(d(n)),T.b.success("Logged in"),t.push("/user")})).catch((function(e){return T.b.error("Bad credentials"),e}))},children:[Object(N.jsx)("div",{className:"mb-3",children:Object(N.jsx)("input",{type:"email",className:"form-control",name:"email",placeholder:"Correo",required:!0})}),Object(N.jsx)("div",{className:"mb-3",children:Object(N.jsx)("input",{type:"password",className:"form-control",name:"password",placeholder:"Contrase\xf1a",required:!0})}),Object(N.jsx)("button",{type:"submit",className:"btn btn-secondary mt-3",children:"Ingresar"})]})},D=function(){return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("a",{href:"http://localhost:3001/api/auth/google",children:Object(N.jsx)("button",{id:"Google",className:"btn btn-danger mb-3",children:"Ingresar con Google"})}),Object(N.jsx)("br",{}),Object(N.jsx)("a",{href:"http://localhost:3001/api/auth/facebook",children:Object(N.jsx)("button",{id:"Facebook",className:"btn btn-primary ",children:"Ingresar con Facebook"})})]})},M=function(){var e=Object(j.h)();return Object(N.jsx)("div",{children:Object(N.jsx)("div",{className:"wh-100 m-0 row justify-content-center align-items-center",style:w,children:Object(N.jsxs)("div",{className:"col-auto text-center loggin-container p-5",children:[Object(N.jsx)("img",{src:B,className:"m-4 form-logo",alt:""}),Object(N.jsx)("div",{className:"m-4",children:Object(N.jsx)("i",{className:"bi bi-person-circle form-img"})}),"/adminlogin"===e.pathname&&G(),"/"===e.pathname&&D()]})})})};n(375);var U=function(){var e=Object(o.c)((function(e){return e.user}));return Object(N.jsxs)("div",{children:[!e.rolId&&"",1===e.rolId&&Object(N.jsx)("div",{children:Object(N.jsxs)("ul",{children:[Object(N.jsx)("li",{children:"En Crear Gestor vas a poder generar un nuevo usuario con rol Gestor."}),Object(N.jsx)("li",{children:"En Gestionar Bloques pod\xe9s crear, eliminar y editar bloques y m\xf3dulos."}),Object(N.jsx)("li",{children:"Para ver y eliminar los usuarios que hay registrado en la plataforma pod\xe9s ir a Gestionar Usuarios."}),Object(N.jsx)("li",{children:"Si quer\xe9s crear o eliminar una sede, and\xe1 a Gestionar Sedes."}),Object(N.jsx)("li",{children:"Por \xfaltimo, para eliminar o crear nuevos roles, visit\xe1 Gestionar Roles."})]})}),2===e.rolId&&Object(N.jsx)("div",{children:Object(N.jsxs)("ul",{children:[Object(N.jsx)("li",{children:"En Ver Voluntarios vas a poder ver todos los voluntarios correspondientes a tu sede y asignarles un rol."}),Object(N.jsx)("li",{children:"En Gestionar Entregas, podr\xe1s ver todas las entregas de tus voluntarios y completarlas."}),Object(N.jsx)("li",{children:'Pod\xe9s cambiar tu contrase\xf1a haciendo click en "cambiar contrase\xf1a".'})]})}),(e.rolId&&e.rolId>2||null===e.rolId)&&Object(N.jsx)("div",{children:Object(N.jsxs)("ul",{children:[Object(N.jsx)("li",{children:"En Mis Bloques encontrar\xe1s todos tus bloques de formaci\xf3n."}),Object(N.jsx)("li",{children:"Dentro de ellos, se encuentran los m\xf3dulos correspondientes a cada uno."}),Object(N.jsx)("li",{children:"Al finalizar un m\xf3dulo, marcalo como completado."}),Object(N.jsx)("li",{children:"Una vez completados todos, se te habilitar\xe1 la entrega del bloque."}),Object(N.jsx)("li",{children:"Para dar un bloque como finalizado, ten\xe9s que esperar a que tu gestor complete la entrega."})]})})]})},L=n(78),V=n.p+"static/media/adminLogin.dba36215.JPG",Y=function(){var e,t,n,c,a=Object(o.c)((function(e){return e.user})),s=Object(j.g)();return Object(r.useEffect)((function(){}),[a]),Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)("div",{className:"volunteer_profile_div",children:[Object(N.jsx)("img",{src:V,alt:"imagen de fondo",className:"profileImageBackground"}),Object(N.jsxs)("div",{className:"user_profile px-4",children:[Object(N.jsxs)("h2",{className:"text-center",children:["\xa1Bienvenid@, ",a.full_name,"!"]}),2===a.rolId&&(a.sedeId?Object(N.jsxs)("h5",{children:[Object(N.jsx)(g.a,{})," ",null===(e=a.sede)||void 0===e?void 0:e.nombre]}):Object(N.jsx)("h5",{children:"El admin debe asignarte una sede"})),(null===a.rolId||a.rolId>2)&&(a.sedeId?Object(N.jsxs)("h5",{children:[Object(N.jsx)(g.a,{})," ",null===(t=a.sede)||void 0===t?void 0:t.nombre]}):Object(N.jsx)(L.a,{type:"dashed",onClick:function(){s.push("/sede")},children:"Debes elegir una sede"})),(null===(n=a.rol)||void 0===n?void 0:n.tipo)?Object(N.jsx)("h5",{children:null===(c=a.rol)||void 0===c?void 0:c.tipo}):Object(N.jsx)("h5",{className:"text-center mt-5",children:"Ponete en contacto con tu gestor para que te asigne un rol"}),Object(N.jsxs)("div",{className:"instructions",children:[Object(N.jsx)("h4",{children:"\xbfC\xf3mo funciona el sitio?"}),Object(N.jsx)(U,{})]})]})]})})},Z=(n(201),n(549)),W=function(e){for(var t=e.id,n=e.title,c=e.button,r=e.bloque,a=e.url,s=[],i=0;i<(null===r||void 0===r||null===(o=r.unidades)||void 0===o?void 0:o.length);i++){var o,l,u="true"===localStorage.getItem("check".concat(null===r||void 0===r||null===(l=r.unidades[i])||void 0===l?void 0:l.id));!0===u&&s.push(u)}return Object(N.jsx)("div",{className:"col-auto",children:Object(N.jsxs)("div",{className:"card position-relative",children:[Object(N.jsx)("div",{className:"card-body",children:Object(N.jsx)("h3",{className:"card-title text-center",children:n})}),Object(N.jsx)("div",{className:"circle",children:Object(N.jsx)(Z.a,{type:"circle",percent:Math.floor(100*s.length/(null===r||void 0===r?void 0:r.unidades.length)),format:function(){return"".concat(s.length,"/").concat(null===r||void 0===r?void 0:r.unidades.length)}})}),Object(N.jsx)(h.b,{to:a,children:Object(N.jsx)("div",{className:" ".concat(c.styles," p-3 text-center"),style:{width:"100%"},children:c.text})})]})},t)},z=function(){var e=Object(o.c)((function(e){return e.user})),t=Object(o.c)((function(e){return e.bloques})).filter((function(t){return t.roles.map((function(e){return e.id})).includes(e.rolId)}));return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)("div",{children:Object(N.jsxs)("div",{className:"volunteer_content_div",children:[Object(N.jsx)("h1",{className:"fs-3 text-secondary m-5 title",children:Object(N.jsx)("strong",{children:"Bloques m\xednimos"})}),Object(N.jsx)("div",{className:"content_div",children:Object(N.jsx)("div",{className:"single_content_div",children:t.map((function(e){return e.minimo&&Object(N.jsx)(W,{bloque:e,title:e.titulo,button:{text:"Ver m\xf3dulos",styles:"button-style light-blue fs-4"},url:"mis-bloques/".concat(e.id)},e.id)}))})}),Object(N.jsx)("h1",{className:"fs-3 text-secondary m-5 title",children:Object(N.jsx)("strong",{children:"Bloques opcionales"})}),Object(N.jsx)("div",{className:"content_div",children:Object(N.jsx)("div",{className:"single_content_div",children:t.map((function(e){return!e.minimo&&Object(N.jsx)(W,{bloque:e,title:e.titulo,button:{text:"Ver m\xf3dulos",styles:"button-style light-blue fs-4"},url:"mis-bloques/".concat(e.id)},e.id)}))})})]})})})},K=(n(202),n(170)),J=n.n(K);function Q(e){var t=e.setChecks,n=Object(r.useState)([]),c=Object(P.a)(n,2),a=c[0],s=c[1],i=Object(j.i)().id;Object(r.useEffect)((function(){f.a.get("/api/unidades/bloque/".concat(i)).then((function(e){return e.data})).then((function(e){return s(e)}))}),[i]);var o=function(e){var n=e.target.checked;localStorage.setItem(e.target.id,n?"true":"false"),t()},l=function(e){localStorage.setItem(e.target.id,"true"),t()};return Object(N.jsx)("div",{children:a.map((function(e){return Object(N.jsxs)("div",{children:[Object(N.jsx)("a",{href:"".concat(e.link),target:"_blank",rel:"noreferrer",className:"modul_button",children:Object(N.jsx)("button",{className:"my-3 p-3 fs-4 button-style light-blue",id:"unidad".concat(e.id),onClick:l,children:e.titulo})}),Object(N.jsx)(J.a,{disabled:"true"!==localStorage.getItem("unidad".concat(e.id)),defaultChecked:"true"===localStorage.getItem("check".concat(e.id)),onChange:o,id:"check".concat(e.id),children:"Completado"})]},"unidad-".concat(e.id))}))})}var X,H=function(){var e=Object(r.useState)(""),t=Object(P.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(0),s=Object(P.a)(a,2),i=s[0],l=s[1],u=Object(r.useState)(!1),d=Object(P.a)(u,2),b=d[0],m=d[1],h=Object(r.useState)({}),O=Object(P.a)(h,2),x=O[0],p=O[1],v=Object(j.i)().id,g=Object(o.c)((function(e){return e.user})),y=Object(j.g)();Object(r.useEffect)((function(){var e=[];f.a.get("/api/bloques/".concat(v)).then((function(e){return e.data})).then((function(t){for(var n=0;n<t.unidades.length;n++){var c,r="true"===localStorage.getItem("check".concat(null===(c=t.unidades[n])||void 0===c?void 0:c.id));!0===r&&e.push(r)}var a=e.length!==t.unidades.length;m(a),p(t)}))}),[i,v]);return Object(N.jsxs)("div",{className:"moduls-div",children:[Object(N.jsx)("h1",{className:"p-5 title",children:Object(N.jsx)("strong",{children:x.titulo})}),Object(N.jsx)("p",{className:"fs-5 descripcion",children:x.descripcion}),Object(N.jsx)("p",{className:"fs-4 modulos",children:Object(N.jsx)("strong",{children:"M\xf3dulos"})}),Object(N.jsx)("div",{className:"unidades",children:Object(N.jsx)(Q,{setChecks:function(){return l(i+1)}})}),Object(N.jsx)("p",{className:"fs-4 pregunta",children:Object(N.jsxs)("strong",{children:["Preguntas del bloque: ",Object(N.jsx)("br",{})," ",x.pregunta," "]})}),Object(N.jsx)("textarea",{className:"form-control",name:"contenido",onChange:function(e){c(e.target.value)}}),Object(N.jsx)("button",{disabled:b,onClick:function(){f.a.post("/api/entregas",{contenido:n,bloqueId:v,userId:g.id}).then((function(){return y.push("/mis-entregas")}))},className:"my-3 p-3 fs-4 button-style green",children:"Entregar"})]})},_=n(52),$=n.n(_),ee=n(75),te=Object(u.c)("SET-USERS",(function(){return f.a.get("/api/users/").then((function(e){return e.data}))})),ne=Object(u.c)("UPDATE_PASSWORD",(function(e){var t=e.id,n=e.oldP,c=e.newP;return f.a.put("/api/users/updatePass/".concat(t),{oldP:n,newP:c}).then((function(e){return e.data}))})),ce=Object(u.d)([],(X={},Object(l.a)(X,te.fulfilled,(function(e,t){return t.payload})),Object(l.a)(X,ne.fulfilled,(function(e,t){return t.payload})),Object(l.a)(X,ne.rejected,(function(e,t){return t.payload})),X)),re=n(546),ae=n(548);n(454);function se(e,t){var n=Object(j.g)();if(e.full_name&&(null===e.rolId||e.rolId!==t))return n.push("/formacion/unauthorized"),Object(N.jsx)("h1",{children:"No autorizado"})}function ie(e){return!/[~`!@#$%^&*+=\-[\]\\';,/{}|\\":<>?()._]/g.test(e)}var oe=function(){var e=Object(r.useState)({password:"",newPassword:"",newPasswordConfirm:""}),t=Object(P.a)(e,2),n=t[0],c=t[1],a=Object(o.b)(),s=Object(o.c)((function(e){return e.user}));se(s,2);var i=function(e){var t=e.target,r=t.id,a=t.value;c(Object(A.a)(Object(A.a)({},n),{},Object(l.a)({},r,a)))},u=function(){var e=Object(ee.a)($.a.mark((function e(){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.newPassword!==n.newPasswordConfirm){e.next=5;break}if(ie(n.newPassword)){e.next=3;break}return e.abrupt("return",T.b.error("No se permiten caracteres especiales"));case 3:return e.next=5,a(ne({id:s.id,oldP:n.password,newP:n.newPassword})).then((function(e){e.payload?T.b.success("Password changed"):T.b.error("Bad credentials")}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)("div",{className:"change_password_div",children:[Object(N.jsx)("h1",{className:"fs-3 text-secondary m-5",children:Object(N.jsx)("strong",{children:"Cambiar contrase\xf1a"})}),Object(N.jsxs)(re.a,{initialValues:{remember:!0},onFinish:u,children:[Object(N.jsx)(re.a.Item,{onChange:i,label:"Actual contrase\xf1a:",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(N.jsx)(ae.a.Password,{})}),Object(N.jsx)(re.a.Item,{onChange:i,label:"Nueva contrase\xf1a:",name:"newPassword",rules:[{required:!0,message:"Please input your password!"}],children:Object(N.jsx)(ae.a.Password,{})}),Object(N.jsx)(re.a.Item,{onChange:i,label:"Confirm\xe1 la nueva contrase\xf1a",name:"newPasswordConfirm",rules:[{required:!0,message:"Please input your password!"}],children:Object(N.jsx)(ae.a.Password,{})}),Object(N.jsx)("button",{type:"submit",className:"button-style green button-style-form my-3 p-2 fs-4",children:"Cambiar"})]})]})})};n(241);function le(){var e=Object(o.c)((function(e){return e.sedes}));return se(Object(o.c)((function(e){return e.user})),1),Object(N.jsx)("div",{children:Object(N.jsx)("div",{className:"wh-100 row justify-content-center align-items-center m-5 p-5",children:e.map((function(e){return Object(N.jsx)("div",{className:"col-auto",children:Object(N.jsx)(h.b,{to:"/admin-usuarios/sede/".concat(e.id),children:Object(N.jsxs)("button",{className:"m-3 p-4 fs-5 button-style light-blue",type:"button",children:[e.nombre," ",Object(N.jsx)("i",{className:"bi bi-pencil-square"})]})})},e.id)}))})})}var ue=function(){var e=Object(j.g)(),t=Object(o.c)((function(e){return e.user}));return se(t,1),t.rolId&&1!==t.rolId?(e.push("/unauthorized"),Object(N.jsx)(N.Fragment,{children:Object(N.jsx)("h1",{children:"No autorizado"})})):Object(N.jsxs)("div",{className:"admin",children:[Object(N.jsx)("h1",{className:"fs-2 text-secondary",children:Object(N.jsx)("strong",{children:"Acced\xe9 a una sede para ver sus voluntarios y gestores"})}),Object(N.jsx)(le,{})]})},de=function(){return Object(N.jsx)("h1",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:"NO AUTORIZADO"})},be=n(10),je=function(e){var t=e.id,n=e.button,c=e.icon,r=e.setState,a=e.stateIcon;return Object(N.jsx)("div",{className:"col-auto",children:Object(N.jsx)("div",{className:"card position-relative",children:Object(N.jsxs)("div",{className:" ".concat(n.styles," p-3 text-center"),style:{width:"100%"},children:[n.text,c&&c.length?Object(N.jsx)("div",{children:a.key&&a.key.length&&a.key===t?Object(N.jsx)("i",{className:a.style,onClick:function(){return r(t)}}):Object(N.jsx)("i",{className:c,onClick:function(){return r(t)}})}):""]})})},t)},me=(n(522),function(){var e=Object(o.b)(),t=Object(j.g)(),n=Object(o.c)((function(e){return e.user})),c=Object(o.c)((function(e){return e.sedes})),a=Object(r.useState)({}),s=Object(P.a)(a,2),i=s[0],u=s[1],b=Object(r.useState)([]),m=Object(P.a)(b,2),h=m[0],O=m[1],x=Object(r.useState)(""),p=Object(P.a)(x,2),v=p[0],g=p[1],y=Object(r.useState)({key:"",style:"btn bi bi-check-circle-fill check-style"}),I=Object(P.a)(y,2),k=I[0],C=I[1];Object(r.useEffect)((function(){h.length||O(Object(be.a)(c)),C((function(e){return Object(A.a)(Object(A.a)({},e),{},{key:v})}))}),[i,v,h,c]);return Object(N.jsxs)("div",{className:"div-sedes",children:[Object(N.jsx)("h1",{className:"fs-3 text-secondary p-5",children:Object(N.jsx)("strong",{children:"Eleg\xed tu sede"})}),Object(N.jsx)("div",{className:"justify-content-center align-items-center",children:Object(N.jsxs)("form",{className:"d-flex col-auto text-center",onChange:function(e){var t=e.target;u(Object(A.a)(Object(A.a)({},i),{},Object(l.a)({},t.name,t.value)))},onSubmit:function(e){e.preventDefault(),i.search&&i.search.length?O(c.filter((function(e){return e.nombre.toLowerCase().indexOf(i.search.toLowerCase())>=0}))):(O(c),C(Object(A.a)(Object(A.a)({},k),{},{key:""})))},children:[Object(N.jsx)("input",{type:"text",name:"search",className:"form-control me-2 fs-4",placeholder:"Buscar sede"}),Object(N.jsx)("button",{className:"btn btn-outline-secondary",type:"submit",children:Object(N.jsx)("i",{className:"bi bi-search"})})]})}),Object(N.jsx)("div",{className:"sedes mt-5",children:null===h||void 0===h?void 0:h.map((function(e,t){return Object(N.jsx)(je,{id:"".concat(e.id),button:{text:"".concat(e.nombre),styles:"button-style  light-blue fs-5"},icon:"btn bi bi-circle-fill uncheck-style",setState:g,stateIcon:k},"".concat(e.id))}))}),Object(N.jsx)("div",{className:" guardarButton ",children:Object(N.jsx)("button",{className:"my-4 p-3 fs-4 button-style green",onClick:function(){f.a.put("/api/users/".concat(n.id),{sedeId:v}).then((function(e){return e.data})).then((function(n){e(d(n)),t.push("/user")})).catch((function(e){return e}))},children:"Guardar"})})]})}),fe=n(51),he=n.n(fe),Oe=n(124),xe=Oe.a.Option;var pe=function(){var e=Object(r.useState)(0),t=Object(P.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)([]),s=Object(P.a)(a,2),i=s[0],l=s[1],u=Object(o.c)((function(e){return e.user})),d=Object(o.c)((function(e){return e.roles.filter((function(e){return 1!==e.id}))})),b=Object(j.h)().pathname.slice(21);Object(r.useEffect)((function(){f.a.get("/api/users/sede/".concat(b)).then((function(e){return e.data})).then((function(e){return l(e)}))}),[u,b]);var m=function(e){c(e)},h=function(e,t){f.a.post("/api/roles/set/",{userId:e,rolId:t,user:u}).then((function(){return f.a.get("/api/users/sede/".concat(b))})).then((function(e){return e.data})).then((function(e){return l(e)}))},O=he.a.mixin({buttonsStyling:!0});return se(u,1),Object(N.jsxs)("div",{className:"admin",children:[Object(N.jsx)("h1",{className:"fs-2 text-secondary",children:Object(N.jsx)("strong",{children:"Administrar roles"})}),!i.length&&Object(N.jsx)("h1",{className:"fs-4",children:"No hay voluntarios/gestores en esta sede"}),Object(N.jsx)("br",{}),i&&i.map((function(e){return Object(N.jsxs)("div",{className:"divAdminUser",children:[Object(N.jsxs)("p",{className:"fs-6",children:["Nombre: ","  ",Object(N.jsx)("strong",{children:e.full_name})]}),Object(N.jsxs)("p",{className:"fs-6",children:["Rol: ","  ",Object(N.jsx)("strong",{children:e.rol&&e.rol.tipo})]}),Object(N.jsx)(Oe.a,{style:{width:200},placeholder:"Seleccionar rol",onChange:m,children:d&&d.map((function(e){return Object(N.jsxs)(xe,{label:"children",value:e.id,children:[" ",e.tipo," "]},e.id)}))}),Object(N.jsx)("button",{className:"btn btn-outline-primary mx-1",onClick:function(){return h(e.id,parseInt(n))},type:"button",children:"Asignar"}),Object(N.jsx)("button",{className:"btn btn-outline-danger mx-1",onClick:function(){return t=e.id,void O.fire({title:"Est\xe1s seguro?",text:"Si lo confirmas, no podr\xe1s deshacerlo!",icon:"warning",showCancelButton:!0,confirmButtonText:"Si, borrar!",cancelButtonText:"No, cancelar!",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",reverseButtons:!0}).then((function(e){e.isConfirmed?(O.fire("Eliminado!","El usuario fue eliminado correctamente.","success"),f.a.delete("/api/users/".concat(t)).then((function(){return f.a.get("/api/users/sede/".concat(b)).then((function(e){return e.data})).then((function(e){return l(e)}))})),T.b.success("Usuario eliminado correctamente")):e.dismiss===he.a.DismissReason.cancel&&O.fire("Cancelado","El usuario est\xe1 a salvo","error")}));var t},type:"button",children:"Eliminar usuario"})]},e.id)}))]})},ve=n(545),ge=Oe.a.Option;var ye=function(){var e=Object(r.useState)(0),t=Object(P.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)([]),i=Object(P.a)(s,2),l=i[0],u=i[1],d=Object(o.c)((function(e){return e.user})),b=Object(o.c)((function(e){return e.roles.filter((function(e){return e.id>2}))}));Object(r.useEffect)((function(){f.a.get("/api/users/sede/".concat(d.sedeId)).then((function(e){return e.data})).then((function(e){return u(e.filter((function(e){return e.id!==d.id})))}))}),[d]);var j=function(e){c(e)};se(d,2);var m=l.map((function(e){var t;return{key:e.id,nombre:e.full_name,rol:null===(t=e.rol)||void 0===t?void 0:t.tipo}})),h=[{title:"Voluntario",render:function(e){return Object(N.jsxs)(a.a.Fragment,{children:[e.nombre,Object(N.jsx)("hr",{}),e.rol]})},responsive:["xs"]},{title:"Nombre",dataIndex:"nombre",key:"nombre",responsive:["sm"]},{title:"Rol",dataIndex:"rol",key:"rol",responsive:["sm"]},{title:"Seleccionar rol",key:"seleccionar rol",render:function(e,t){return Object(N.jsxs)("div",{children:[Object(N.jsx)(Oe.a,{defaultValue:"Seleccionar rol",style:{width:200},onChange:j,children:b&&b.map((function(e){return Object(N.jsxs)(ge,{value:e.id,children:[" ",e.tipo," "]},e.id)}))}),Object(N.jsx)("button",{onClick:function(e){return c=t.key,r=parseInt(n),void f.a.post("http://localhost:3001/api/roles/set/",{userId:c,rolId:r,user:d}).then((function(){f.a.get("/api/users/sede/".concat(d.sedeId)).then((function(e){return e.data})).then((function(e){return u(e.filter((function(e){return e.id!==d.id})))}))}));var c,r},className:"btn btn-outline-primary mx-1",children:"Asignar rol"})]})}}];return Object(N.jsxs)("div",{children:[Object(N.jsx)("h1",{className:"fs-3 text-secondary p-5 text-center",children:Object(N.jsx)("strong",{children:"Administrar roles"})}),Object(N.jsx)("div",{className:"table",children:Object(N.jsx)(ve.a,{dataSource:m,columns:h,pagination:!1})})]})},Ne=Object(u.c)("GET_SEDES",(function(){return f.a.get("/api/sedes/").then((function(e){return e.data}))})),Ie=Object(u.d)([],Object(l.a)({},Ne.fulfilled,(function(e,t){return t.payload})));n(242);function ke(){var e=Object(r.useState)({}),t=Object(P.a)(e,2),n=t[0],c=t[1],s=Object(o.c)((function(e){return e.sedes})),i=Object(o.b)(),u=Object(o.c)((function(e){return e.user})),d=function(e){c(Object(A.a)(Object(A.a)({},n),{},Object(l.a)({},e.target.name,e.target.value)))},b=he.a.mixin({buttonsStyling:!0});se(u,1);var j=s.map((function(e){return{key:e.id,nombre:e.nombre,comunidadId:e.comunidadId}})),m=[{title:"Sede",render:function(e){return Object(N.jsxs)(a.a.Fragment,{children:[e.nombre,Object(N.jsx)("hr",{}),e.comunidadId]})},responsive:["xs"]},{title:"Sede",dataIndex:"nombre",key:"nombre",responsive:["sm"]},{title:"Comunidad ID",dataIndex:"comunidadId",key:"comunidadId",responsive:["sm"]},{title:"Modificar/eliminar",key:"modificar/eliminar",render:function(e,t){return Object(N.jsxs)("div",{children:[Object(N.jsx)("button",{onClick:function(){return e=t.key,void b.fire({title:"Est\xe1s seguro?",text:"Si lo confirmas, no podr\xe1s deshacerlo!",icon:"warning",showCancelButton:!0,confirmButtonText:"Si, borrar!",cancelButtonText:"No, cancelar!",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",reverseButtons:!0}).then((function(t){t.isConfirmed?(b.fire("Eliminado!","La sede fue eliminada correctamente.","success"),f.a.delete("/api/sedes/".concat(e)).then((function(){return i(Ne())})),T.b.success("Sede eliminada correctamente")):t.dismiss===he.a.DismissReason.cancel&&b.fire("Cancelado","La sede est\xe1 a salvo","error")}));var e},className:"btn btn-outline-danger mx-1",children:"Eliminar"}),Object(N.jsx)("button",{onClick:function(){return e="sedeForm".concat(t.key),void(document.getElementById(e).style.display="block"===document.getElementById(e).style.display?"none":"block");var e},className:"btn btn-outline-primary mx-1",children:"Modificar"}),Object(N.jsxs)("form",{className:"sedesForm",onSubmit:function(e){return function(e,t){if(e.preventDefault(),!ie(n.nombre))return T.b.error("No se permiten caracteres especiales");f.a.post("/api/sedes/".concat(t),n).then((function(e){return e.data})).then((function(){return i(Ne())}))}(e,t.key)},id:"sedeForm".concat(t.key),style:{display:"none"},children:[Object(N.jsx)("label",{htmlFor:"nombre",children:"Nombre"}),Object(N.jsx)("input",{onChange:d,type:"text",name:"nombre",placeholder:t.nombre,className:"form-control"}),Object(N.jsx)("label",{htmlFor:"comunidadId",children:"Comunidad ID"}),Object(N.jsx)("input",{onChange:d,type:"number",name:"comunidadId",placeholder:t.comunidadId,className:"form-control"}),Object(N.jsx)("button",{className:"btn btn-success mx-1",type:"submit",children:"Confirmar cambios"})]})]})}}];return Object(N.jsx)("div",{children:Object(N.jsx)(ve.a,{bordered:!0,dataSource:j,columns:m,pagination:!1})})}var Ce=n(547);function qe(){var e=Object(r.useState)({}),t=Object(P.a)(e,2),n=t[0],c=t[1],a=Object(o.b)(),s=Object(o.c)((function(e){return e.user}));return se(s,1),Object(N.jsxs)("div",{className:"wh-100 text-center p-5 justify-content-center align-items-center",children:[Object(N.jsxs)("div",{className:"col-auto",children:[Object(N.jsx)("h1",{className:"fs-2 text-secondary text-center",children:Object(N.jsx)("strong",{children:"Gestionar sedes"})}),Object(N.jsx)("button",{type:"button",onClick:function(){document.getElementById("newSede").style.display="block"===document.getElementById("newSede").style.display?"none":"block"},className:"my-5 p-3 fs-4 button-style green",children:"Crear nueva sede"})]}),Object(N.jsx)("div",{className:"createSede",children:Object(N.jsxs)(re.a,{style:{display:"none"},name:"newSede",labelCol:{span:8},wrapperCol:{span:8},initialValues:{remember:!0},onValuesChange:function(e,t){return function(e,t){c(t)}(0,t)},onFinish:function(){if(!ie(n.nombre))return T.b.error("No se permiten caracteres especiales");f.a.post("/api/sedes/",n).then((function(e){e.data&&T.b.success("Sede creada correctamente")})).then((function(){a(Ne())})).catch((function(e){return T.b.warning("No se pudo crear la sede")}))},children:[Object(N.jsx)(re.a.Item,{label:"Comunidad Id",name:"comunidadId",children:Object(N.jsx)(Ce.a,{})}),Object(N.jsx)(re.a.Item,{label:"Nombre",name:"nombre",children:Object(N.jsx)(ae.a.TextArea,{})}),Object(N.jsx)(L.a,{style:{display:n.nombre?"block":"none"},htmlType:"submit",type:"submit",children:"Crear sede"})]})}),Object(N.jsx)("div",{className:"table",children:Object(N.jsx)(ke,{})})]})}var Se=n(149),Ee=Object(u.c)("GET-BLOQUES",(function(){return f.a.get("/api/bloques").then((function(e){return e.data}))})),we=Object(u.d)([],Object(l.a)({},Ee.fulfilled,(function(e,t){return t.payload})));n(243);function Be(){var e=Object(r.useState)({rolesId:[]}),t=Object(P.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)([]),s=Object(P.a)(a,2),i=s[0],u=s[1],d=Object(o.c)((function(e){return e.user})),b=Object(j.g)(),m=Object(o.b)();se(d,1),Object(r.useEffect)((function(){f.a.get("/api/roles").then((function(e){return e.data})).then((function(e){return e.filter((function(e){return e.id>=3}))})).then((function(e){return u(e)}))}),[]);var h=function(e){c(Object(A.a)(Object(A.a)({},n),{},Object(l.a)({},e.target.name,e.target.value)))},O=function(e){var t="si"===e.target.id;c(Object(A.a)(Object(A.a)({},n),{},{minimo:t}))},x=function(e){var t=Object(be.a)(n.rolesId);e.target.checked?t=[].concat(Object(be.a)(t),[e.target.value]):t.splice(n.rolesId.indexOf(e.target.value),1),c(Object(A.a)(Object(A.a)({},n),{},{rolesId:Object(be.a)(t)}))};return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("div",{className:"admin",children:Object(N.jsx)("h1",{className:"fs-2 text-secondary m-5",children:Object(N.jsx)("strong",{children:"Crear nuevo bloque de formaci\xf3n"})})}),Object(N.jsxs)(re.a,{labelCol:{span:5},wrapperCol:{span:13},onFinish:function(e){if(!ie(n.titulo))return T.b.error("No se permiten caracteres especiales");f.a.post("/api/bloques",n).then((function(e){m(Ee()),b.push("/admin-bloques")}))},children:[Object(N.jsx)(re.a.Item,{className:"admin_input",label:"T\xedtulo",name:"titulo",rules:[{required:!0,message:"Por favor complete el campo"}],children:Object(N.jsx)(ae.a,{name:"titulo",onChange:h})}),Object(N.jsx)(re.a.Item,{className:"admin_input",label:"Descripci\xf3n",name:"descripcion",rules:[{required:!0,message:"Por favor complete el campo"}],children:Object(N.jsx)(ae.a,{name:"descripcion",onChange:h})}),Object(N.jsx)(re.a.Item,{className:"admin_input",label:"Preguntas",name:"pregunta",rules:[{required:!0,message:"Por favor complete el campo"}],children:Object(N.jsx)(ae.a.TextArea,{name:"pregunta",onChange:h})}),Object(N.jsxs)("div",{className:"admin",children:[Object(N.jsx)("h5",{children:"\xbfEs bloque m\xednimo?"}),Object(N.jsxs)(Se.a.Group,{children:[Object(N.jsx)(Se.a.Button,{id:"si",value:"si",onChange:O,children:"Si"}),Object(N.jsx)(Se.a.Button,{id:"no",value:"no",onChange:O,children:"No"})]}),Object(N.jsx)("br",{}),Object(N.jsx)("h5",{children:"\xbfA qu\xe9 roles est\xe1 destinado?"}),i.map((function(e){return Object(N.jsxs)("div",{value:e.id,children:[Object(N.jsx)("label",{className:"admin_check",htmlFor:e.tipo,children:e.tipo}),Object(N.jsx)("input",{type:"checkbox",name:"roles",value:e.id,id:e.id,onChange:x})]})})),Object(N.jsx)("br",{}),Object(N.jsx)(re.a.Item,{children:Object(N.jsx)("button",{htmlType:"submit",className:"my-3 p-2 fs-4 button-style green",children:"Crear"})})]})]})]})}function Ae(){var e=Object(o.c)((function(e){return e.user}));Object(r.useEffect)((function(){}),[e]);var t=Object(o.c)((function(e){return e.bloques}));return se(e,1),Object(N.jsxs)("div",{className:"wh-100 m-0 row justify-content-center align-items-center",children:[Object(N.jsxs)("div",{className:"col-auto m-5",children:[Object(N.jsx)("h1",{className:"fs-2 text-secondary",children:Object(N.jsx)("strong",{children:"Gestionar o crear bloques"})}),Object(N.jsx)(h.b,{to:"/admin-bloques-crear",children:Object(N.jsx)("button",{type:"button",className:"my-5 p-3 fs-4 button-style green",children:"Crear nuevo bloque"})})]}),Object(N.jsx)("div",{className:"wh-100 my-3 row justify-content-center align-items-center",children:t.map((function(e){return Object(N.jsx)("div",{className:"col-auto",children:Object(N.jsx)(h.b,{to:"/admin-bloques/".concat(e.id),children:Object(N.jsxs)("button",{type:"button",className:"m-3 p-4 fs-5 button-style light-blue",children:[e.titulo," ",Object(N.jsx)("i",{className:"bi bi-pencil-square"})]})})},e.id)}))})]})}n(531);function Pe(e){var t=e.forceRender,n=e.bloque,c=Object(o.c)((function(e){return e.user})),a=Object(r.useState)({bloqueId:n.id}),s=Object(P.a)(a,2),i=s[0],u=s[1];se(c,1);var d=function(e){u(Object(A.a)(Object(A.a)({},i),{},Object(l.a)({},e.target.name,e.target.value)))};return Object(N.jsxs)("div",{children:[Object(N.jsx)("h1",{className:"fs-2",children:Object(N.jsxs)("strong",{children:["Agregar unidad a ",null===n||void 0===n?void 0:n.titulo]})}),Object(N.jsxs)(re.a,{onFinish:function(e){ie(i.titulo)?f.a.post("/api/unidades",i).then((function(){return t()}),T.b.success("Agregado correctamente")):T.b.error("No se permiten caracteres especiales")},children:[Object(N.jsx)(re.a.Item,{label:"Titulo",name:"titulo",rules:[{required:!0,message:"Por favor complete el campo"}],children:Object(N.jsx)(ae.a,{type:"text",onChange:d,name:"titulo"})}),Object(N.jsx)(re.a.Item,{label:"Link",name:"link",rules:[{required:!0,message:"Por favor complete el campo"}],children:Object(N.jsx)(ae.a,{type:"text",onChange:d,name:"link"})}),Object(N.jsx)("div",{className:"admin_unidades",children:Object(N.jsx)("button",{type:"submit",className:"mb-3 mt-3 p-3 fs-4 button-style green",children:"Agregar unidad"})})]})]})}function Te(e){var t=e.forceRender,n=e.unidades,c=Object(r.useState)({}),a=Object(P.a)(c,2),s=a[0],i=a[1];se(Object(o.c)((function(e){return e.user})),1);var u=function(e){i(Object(A.a)(Object(A.a)({},s),{},Object(l.a)({},e.target.name,e.target.value)))},d=he.a.mixin({buttonsStyling:!0});return Object(N.jsx)(N.Fragment,{children:null===n||void 0===n?void 0:n.map((function(e){return Object(N.jsxs)("div",{children:[Object(N.jsx)("div",{className:"admin",children:Object(N.jsx)("button",{className:"my-3 p-3 fs-4 button-style light-blue",onClick:function(){return t=e.id,void(document.getElementById("unidad".concat(t)).style.display="none"===document.getElementById("unidad".concat(t)).style.display?"block":"none");var t},type:"button",children:e.titulo})}),Object(N.jsxs)(re.a,{style:{display:"none"},labelCol:{span:5},wrapperCol:{span:13},onFinish:function(n){return c=e.id,void f.a.put("/api/unidades/".concat(c),s).then((function(){return t()}),T.b.success("Modificado correctamente"));var c},id:"unidad".concat(e.id),children:[Object(N.jsx)(re.a.Item,{label:"Titulo",children:Object(N.jsx)(ae.a,{type:"text",name:"titulo",onChange:u,defaultValue:e.titulo})}),Object(N.jsx)(re.a.Item,{label:"Link",children:Object(N.jsx)(ae.a,{type:"text",name:"link",onChange:u,defaultValue:e.link})}),Object(N.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(N.jsx)("button",{className:"btn btn-outline-danger m-4 px-3 fs-4 ",type:"button",onClick:function(){return n=e.id,void d.fire({title:"Est\xe1s seguro?",text:"Si lo confirmas, no podr\xe1s deshacerlo!",icon:"warning",showCancelButton:!0,confirmButtonText:"Si, borrar!",cancelButtonText:"No, cancelar!",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",reverseButtons:!0}).then((function(e){e.isConfirmed?(d.fire("Eliminado!","El m\xf3dulo fue eliminado correctamente.","success"),f.a.delete("/api/unidades/".concat(n)).then((function(){return t()}))):e.dismiss===he.a.DismissReason.cancel&&d.fire("Cancelado","El m\xf3dulo est\xe1 a salvo","error")}));var n},children:"Eliminar"}),Object(N.jsx)("button",{className:"btn btn-outline-primary m-4 px-3 fs-4",htmlType:"submit",children:"Modificar"})]})]}),Object(N.jsx)("br",{})]},e.id)}))})}function Re(){var e=Object(r.useState)(0),t=Object(P.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(),s=Object(P.a)(a,2),i=s[0],u=s[1],d=Object(r.useState)(!1),b=Object(P.a)(d,2),m=b[0],h=b[1],O=Object(r.useState)({bloque:i}),x=Object(P.a)(O,2),p=x[0],v=x[1],g=Object(j.i)().id,y=Object(o.c)((function(e){return e.user})),I=Object(o.c)((function(e){return e.roles})).filter((function(e){return e.id>2})),k=Object(j.g)(),C=Object(o.b)();Object(r.useEffect)((function(){f.a.get("/api/bloques/".concat(g)).then((function(e){return e.data})).then((function(e){return v({titulo:e.titulo,descripcion:e.descripcion,minimo:e.minimo,rolesId:e.roles.map((function(e){return e.id}))}),u(e),e})).then((function(e){for(var t=I.map((function(e){return e.id})),n=0;n<I.length;n++)document.getElementById("rol".concat(t[n])).checked=e.roles.map((function(e){return e.id})).includes(t[n])&&"true";document.getElementById("minimoSi").checked=e.minimo&&"true",document.getElementById("minimoNo").checked=!e.minimo&&"true"}))}),[m,n,y,g]);var q=function(e){v(Object(A.a)(Object(A.a)({},p),{},Object(l.a)({},e.target.name,e.target.value)))},S=function(e){var t="si"===e.target.id;v(Object(A.a)(Object(A.a)({},p),{},{minimo:t}))},E=function(e){var t=Object(be.a)(p.rolesId);e.target.checked?t=[].concat(Object(be.a)(t),[e.target.value]):t.splice(p.rolesId.indexOf(e.target.value),1),v(Object(A.a)(Object(A.a)({},p),{},{rolesId:Object(be.a)(t)}))},w=he.a.mixin({buttonsStyling:!0}),B=function(){c(n+1)};return se(y,1),Object(N.jsxs)("div",{children:[Object(N.jsxs)("div",{className:"admin",children:[Object(N.jsx)("h1",{className:"fs-2 text-secondary m-5",children:Object(N.jsx)("strong",{children:i&&i.titulo})}),Object(N.jsx)("br",{})]}),i&&Object(N.jsxs)(re.a,{labelCol:{span:5},wrapperCol:{span:13},onFinish:function(){f.a.put("/api/bloques/".concat(g),p).then((function(){C(Ee())})).then((function(){T.b.success("Modificado correctamente"),k.push("/admin-bloques")}))},children:[Object(N.jsx)(re.a.Item,{label:"Titulo",children:Object(N.jsx)(ae.a,{className:"admin_input",type:"text",name:"titulo",onChange:q,defaultValue:i.titulo})}),Object(N.jsx)(re.a.Item,{label:"Descripci\xf3n",children:Object(N.jsx)(ae.a.TextArea,{defaultValue:i.descripcion,autoSize:!0,name:"descripcion",className:"admin_input",showCount:!0,maxLength:350,onChange:q})}),Object(N.jsx)(re.a.Item,{label:"Preguntas",children:Object(N.jsx)(ae.a.TextArea,{className:"admin_input",onChange:q,name:"pregunta",defaultValue:i.pregunta})}),Object(N.jsxs)("div",{className:"admin",children:[Object(N.jsx)("h5",{children:"\xbfEs bloque m\xednimo?"}),Object(N.jsxs)(Se.a.Group,{children:[Object(N.jsx)(Se.a.Button,{id:"minimoSi",value:!0,onChange:S,children:"Si"}),Object(N.jsx)(Se.a.Button,{id:"minimoNo",value:!1,onChange:S,children:"No"})]}),Object(N.jsx)("br",{}),Object(N.jsx)("h5",{children:"\xbfA qu\xe9 roles est\xe1 destinado?"}),I.map((function(e){return Object(N.jsxs)("div",{children:[Object(N.jsx)("label",{className:"admin_check",htmlFor:e.tipo,children:e.tipo}),Object(N.jsx)("input",{type:"checkbox",name:"roles",value:e.id,id:"rol".concat(e.id),onChange:E})]},e.id)}))]}),Object(N.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(N.jsx)("button",{className:"btn btn-outline-danger m-4 px-3 fs-4",type:"button",onClick:function(){w.fire({title:"Est\xe1s seguro?",text:"Si lo confirmas, no podr\xe1s deshacerlo!",icon:"warning",showCancelButton:!0,confirmButtonText:"Si, borrar!",cancelButtonText:"No, cancelar!",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",reverseButtons:!0}).then((function(e){e.isConfirmed?(w.fire("Eliminado!","El bloque fue eliminado correctamente.","success"),f.a.delete("/api/bloques/".concat(g)).then((function(){C(Ee()),k.push("/admin-bloques")}))):e.dismiss===he.a.DismissReason.cancel&&w.fire("Cancelado","El bloque est\xe1 a salvo","error")}))},children:"Eliminar"}),Object(N.jsx)("button",{className:"btn btn-outline-primary m-4 px-3 fs-4",type:"submit",children:"Modificar"})]})]}),Object(N.jsxs)("div",{className:"my-5 d-flex justify-content-center",children:[Object(N.jsx)("button",{className:"mb-3 mt-3 p-3 fs-4 button-style button-style green",type:"button",onClick:function(){h(!m)},style:{display:m?"none":"block"},children:"Agregar unidad al bloque"}),m&&Object(N.jsx)(Pe,{forceRender:B,bloque:i}),Object(N.jsx)("br",{})]}),Object(N.jsxs)("div",{className:"admin",children:[Object(N.jsx)("h1",{className:"fs-2 text-secondary",children:Object(N.jsx)("strong",{children:"Unidades del bloque"})}),Object(N.jsx)("br",{})]}),Object(N.jsx)(Te,{forceRender:B,unidades:null===i||void 0===i?void 0:i.unidades})]})}var Fe=Object(u.c)("GET-ROLES",(function(){return f.a.get("/api/roles").then((function(e){return e.data}))})),Ge=Object(u.d)([],Object(l.a)({},Fe.fulfilled,(function(e,t){return t.payload})));n(244);function De(){var e=Object(r.useState)({}),t=Object(P.a)(e,2),n=t[0],c=t[1],a=Object(o.c)((function(e){return e.roles})).filter((function(e){return e.id>1})),s=Object(o.b)(),i=Object(o.c)((function(e){return e.user})),u=function(e){c(Object(l.a)({},e.target.name,e.target.value))},d=he.a.mixin({buttonsStyling:!0});se(i,1);var b=a.map((function(e){return{key:e.id,tipo:e.tipo}})),j=[{title:"Rol",dataIndex:"tipo",key:"tipo"},{title:"Modificar/eliminar",key:"modificar/eliminar",render:function(e,t){return Object(N.jsxs)("div",{children:[Object(N.jsx)("button",{onClick:function(){return e=t.key,void d.fire({title:"Est\xe1s seguro?",text:"Si lo confirmas, no podr\xe1s deshacerlo!",icon:"warning",showCancelButton:!0,confirmButtonText:"Si, borrar!",cancelButtonText:"No, cancelar!",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",reverseButtons:!0}).then((function(t){t.isConfirmed?(d.fire("Eliminado!","El rol fue eliminado correctamente.","success"),f.a.delete("/api/roles/".concat(e)).then((function(){return s(Fe())})),T.b.success("Rol eliminado correctamente")):t.dismiss===he.a.DismissReason.cancel&&d.fire("Cancelado","El rol est\xe1 a salvo","error")}));var e},type:"button",className:"btn btn-outline-danger mx-1",children:"Eliminar"}),Object(N.jsx)("button",{onClick:function(){return e="rolForm".concat(t.key),void(document.getElementById(e).style.display="block"===document.getElementById(e).style.display?"none":"block");var e},className:"btn btn-outline-primary mx-1",children:"Modificar"}),Object(N.jsxs)("form",{className:"rolesForm",onSubmit:function(e){return function(e,t){if(e.preventDefault(),!ie(n.tipo))return T.b.error("No se permiten caracteres especiales");f.a.put("/api/roles/".concat(t),n).then((function(){s(Fe()),T.b.success("Rol modificado correctamente")})).catch((function(){return T.b.error("No se pudo modificar")}))}(e,t.key)},id:"rolForm".concat(t.key),style:{display:"none"},children:[Object(N.jsx)("label",{htmlFor:"rol-type",className:"form-label",children:Object(N.jsx)("strong",{children:"Nombre: "})}),Object(N.jsx)("input",{onChange:u,type:"text",name:"tipo",id:"rol-type",placeholder:t.tipo,className:"form-control"}),Object(N.jsx)("button",{className:"btn btn-success mx-1",type:"submit",children:"Confirmar cambios"})]})]})}}];return Object(N.jsx)("div",{className:"table",children:Object(N.jsx)(ve.a,{bordered:!0,dataSource:b,columns:j,pagination:!1})})}function Me(){var e=Object(r.useState)({}),t=Object(P.a)(e,2),n=t[0],c=t[1],a=Object(o.b)(),s=Object(o.c)((function(e){return e.user}));return se(s,1),Object(N.jsxs)("div",{className:"adminRoles",children:[Object(N.jsx)("h1",{className:"fs-2 text-secondary text-center p-5",children:Object(N.jsx)("strong",{children:"Gestionar roles"})}),Object(N.jsx)("button",{type:"button",onClick:function(){document.getElementById("newRole").style.display="block"===document.getElementById("newRole").style.display?"none":"block"},className:"mb-5 p-3 fs-4 button-style green",children:"Crear nuevo rol"}),Object(N.jsx)("div",{className:"createRol",children:Object(N.jsxs)(re.a,{style:{display:"none"},name:"newRole",labelCol:{span:8},wrapperCol:{span:16},initialValues:{remember:!0},onValuesChange:function(e,t){return function(e,t){c(t)}(0,t)},onFinish:function(){if(!ie(n.tipo))return T.b.error("No se permiten caracteres especiales");f.a.post("/api/roles/",n).then((function(e){e.data&&T.b.success("Rol creado correctamente")})).then((function(){return a(Fe())})).catch((function(e){return T.b.error("Rol no creado")}))},children:[Object(N.jsx)(re.a.Item,{label:"Tipo de rol",name:"tipo",children:Object(N.jsx)(ae.a.TextArea,{})}),Object(N.jsx)(L.a,{style:{display:n.tipo?"block":"none"},htmlType:"submit",type:"submit",children:"Crear rol"})]})}),Object(N.jsx)(De,{})]})}n(532);function Ue(){var e=Object(r.useState)([]),t=Object(P.a)(e,2),n=t[0],c=t[1],s=Object(o.c)((function(e){return e.user}));Object(r.useEffect)((function(){f.a.get("/api/entregas/user/".concat(s.id)).then((function(e){return e.data})).then((function(e){c(e)}))}),[s]);var i=n.map((function(e){return{key:e.id,bloque:e.bloque.titulo,contenido:e.contenido,estado:e.aprobado?Object(N.jsx)("p",{children:"Completado"}):Object(N.jsx)("p",{children:"Pendiente"})}})),l=[{title:"Bloque",render:function(e){return Object(N.jsx)(a.a.Fragment,{children:e.bloque})},responsive:["xs"]},{title:"Estado",render:function(e){return Object(N.jsx)(a.a.Fragment,{children:e.estado})},responsive:["xs"]},{title:"Bloque",dataIndex:"bloque",key:"bloque",width:300,responsive:["sm"]},{title:"Contenido",dataIndex:"contenido",key:"contenido",width:800,responsive:["sm"]},{title:"Estado",dataIndex:"estado",key:"estado",width:150,responsive:["sm"]}];return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)("div",{children:[Object(N.jsxs)("div",{className:"volunteer_entregas_div text-center",children:[Object(N.jsx)("h1",{className:"fs-3 text-secondary m-5 ",children:Object(N.jsx)("strong",{children:"Mis entregas"})}),Object(N.jsx)("div",{className:"table",children:Object(N.jsx)(ve.a,{bordered:!0,dataSource:i,columns:l,pagination:!1,size:"small"})})]}),Object(N.jsx)("p",{className:"entregas",children:"Si quer\xe9s ver el contenido de tu respuesta, entra desde una computadora por favor."})]})})}var Le=n(105);n(536);function Ve(){var e,t=Object(r.useState)(),n=Object(P.a)(t,2),c=n[0],s=n[1],i=Object(r.useState)(""),l=Object(P.a)(i,2),u=l[0],d=l[1],b=Object(o.c)((function(e){return e.user})),m=Object(j.g)();Object(r.useEffect)((function(){f.a.get("/api/entregas/sede/".concat(b.sedeId)).then((function(e){return e.data})).then((function(e){return s(e)}))}),[b]),se(b,2);var h=function(e){var t=e.slice(0,10);return"".concat(t.slice(8,10),"/").concat(t.slice(5,7),"/").concat(t.slice(0,4))},O=null===c||void 0===c?void 0:c.map((function(e){return{key:e.id,voluntario:e.user.full_name,bloque:e.bloque.titulo,estado:e.aprobado?"Completado":"Pendiente",fecha:h(e.updatedAt)}})),x=[{title:"Voluntario",render:function(e){return Object(N.jsxs)(a.a.Fragment,{children:[e.voluntario,Object(N.jsx)("hr",{}),e.estado]})},responsive:["xs"]},{title:"Bloque",render:function(e){return Object(N.jsx)(a.a.Fragment,{children:e.bloque})},responsive:["xs"]},{title:"Voluntario",dataIndex:"voluntario",key:"voluntario",responsive:["sm"]},{title:"Bloque",dataIndex:"bloque",key:"bloque",responsive:["sm"]},{title:"Estado",dataIndex:"estado",key:"estado",responsive:["sm"]},{title:"Fecha",dataIndex:"fecha",key:"fecha",responsive:["sm"]},{title:"",key:"ver",render:function(e,t){return Object(N.jsx)(L.a,{type:"button",onClick:function(){return e=t.key,void m.push("/gestor/entregas/".concat(e));var e},children:"Ver mas"})}}];return Object(N.jsxs)("div",{children:[Object(N.jsx)("h1",{className:"fs-3 text-secondary p-5 text-center gestor-entregas",children:Object(N.jsx)("strong",{children:"Entregas de voluntarios"})}),Object(N.jsxs)("div",{className:"d-flex justify-content-around my-4 botones",children:[Object(N.jsx)("div",{className:"col-auto",children:O&&Object(N.jsx)("button",{className:"btn btn-success descargar",children:Object(N.jsx)(Le.CSVLink,{data:O,filename:"entregas-".concat(null===(e=b.sede)||void 0===e?void 0:e.nombre,".csv"),children:Object(N.jsxs)("p",{className:"text-light m-0 fs-5",children:["Descargar ",Object(N.jsx)("i",{class:"bi bi-file-earmark-excel-fill"})]})})})}),Object(N.jsxs)("form",{className:"row g-0",onSubmit:function(e){e.preventDefault(),f.a.post("/api/entregas/user/nombre",{nombre:u,sedeId:b.sedeId}).then((function(e){return e.data})).then((function(e){return s(e)}))},children:[Object(N.jsx)("div",{className:"col-auto",children:Object(N.jsx)("input",{type:"text",name:"nombre",onChange:function(e){d(e.target.value)},className:"form-control fs-5 busqueda",placeholder:"voluntari@s"})}),Object(N.jsx)("div",{className:"col-auto",children:Object(N.jsx)("button",{className:"btn btn-secondary fs-5",type:"submit",children:"Buscar"})})]}),Object(N.jsx)("div",{className:"col-auto",children:Object(N.jsxs)("select",{onChange:function(e){"completadas"===e.target.value&&f.a.get("/api/entregas/completadas/".concat(b.sedeId)).then((function(e){return e.data})).then((function(e){return s(e)})),"pendientes"===e.target.value&&f.a.get("/api/entregas/pendientes/".concat(b.sedeId)).then((function(e){return e.data})).then((function(e){return s(e)})),"todas"===e.target.value&&f.a.get("/api/entregas/sede/".concat(b.sedeId)).then((function(e){return e.data})).then((function(e){return s(e)}))},className:"form-select fs-5",children:[Object(N.jsx)("option",{children:"Filtrar por estado"}),Object(N.jsx)("option",{value:"completadas",children:"Completadas"}),Object(N.jsx)("option",{value:"pendientes",children:"Pendientes"}),Object(N.jsx)("option",{value:"todas",children:"Todas"})]})})]}),Object(N.jsx)("div",{className:"table",children:Object(N.jsx)(ve.a,{bordered:!0,dataSource:O,columns:x,pagination:!0})})]})}n(537);function Ye(){var e=Object(o.c)((function(e){return e.user})),t=Object(r.useState)(),n=Object(P.a)(t,2),c=n[0],a=n[1],s=Object(j.i)().id,i=Object(j.g)();Object(r.useEffect)((function(){f.a.get("/api/entregas/".concat(s)).then((function(e){return e.data})).then((function(e){return a(e)}))}),[s]);return se(e,2),Object(N.jsx)("div",{className:"wh-100 row justify-content-center align-items-center",children:Object(N.jsxs)("div",{className:"col-auto p-5",children:[Object(N.jsxs)("div",{className:"text-center",children:[Object(N.jsx)("img",{src:null===c||void 0===c?void 0:c.user.img,alt:"userIMG"}),Object(N.jsx)("h1",{className:"fs-2 m-2 text-secondary",children:Object(N.jsx)("strong",{children:null===c||void 0===c?void 0:c.user.full_name})})]}),Object(N.jsxs)("div",{className:"m-5",children:[Object(N.jsx)("h2",{className:"fs-4 text-left",children:"Bloque:"})," ",Object(N.jsx)("p",{children:null===c||void 0===c?void 0:c.bloque.titulo}),Object(N.jsx)("h2",{className:"fs-4",children:"Preguntas:"})," ",Object(N.jsx)("p",{children:null===c||void 0===c?void 0:c.bloque.pregunta}),Object(N.jsx)("h2",{className:"fs-4",children:"Respuesta del voluntario:"})," ",Object(N.jsx)("p",{children:null===c||void 0===c?void 0:c.contenido})]}),Object(N.jsx)("div",{className:"text-center",children:Object(N.jsx)("button",{className:"btn btn-secondary",onClick:function(e){return function(e){e.preventDefault(),f.a.get("/api/entregas/aprobar/".concat(s)).then((function(){return i.push("/gestor/entregas")})).catch((function(e){return console.log(e)}))}(e)},children:"Marcar como completada"})})]})})}n(538);var Ze=function(e,t){var n=t.filter((function(e){return!0===e.minimo})).filter((function(t){return t.roles.map((function(e){return e.id})).includes(e.rolId)})),c=e.entregas.filter((function(e){return!0===e.bloque.minimo&&!0===e.aprobado}));return"".concat(c.length,"/").concat(n.length)},We=function(e){return(e.entregas?e.entregas.filter((function(e){return!0===e.bloque.minimo&&!0===e.aprobado})):[]).length},ze=function(e,t){return t.filter((function(e){return!0===e.minimo})).filter((function(t){return t.roles.map((function(e){return e.id})).includes(e.rolId)})).length},Ke=function(e,t){var n=t.filter((function(e){return!1===e.minimo})).filter((function(t){return t.roles.map((function(e){return e.id})).includes(e.rolId)})),c=e.entregas.filter((function(e){return!1===e.bloque.minimo&&!0===e.aprobado}));return"".concat(c.length,"/").concat(n.length)},Je=function(e){return(e.entregas?e.entregas.filter((function(e){return!1===e.bloque.minimo&&!0===e.aprobado})):[]).length},Qe=function(e,t){return t.filter((function(e){return!1===e.minimo})).filter((function(t){return t.roles.map((function(e){return e.id})).includes(e.rolId)})).length},Xe=function(e){return e.entregas.filter((function(e){return!1===e.aprobado})).length},He=function(e){return e.map((function(e){return e.entregas.map((function(e){return e.aprobado}))})).flat().filter((function(e){return!1===e})).length},_e=function(e,t){for(var n=t.filter((function(e){return!0===e.minimo})),c=0,r=0,a=function(t){var a=n.filter((function(n){return n.roles.map((function(e){return e.id})).includes(e[t].rolId)})).length;c+=a,r+=e[t].entregas.filter((function(e){return!0===e.bloque.minimo&&!0===e.aprobado})).length},s=0;s<e.length;s++)a(s);return"".concat(r,"/").concat(c)},$e=function(e,t){for(var n=t.filter((function(e){return!1===e.minimo})),c=0,r=0,a=function(t){var a=n.filter((function(n){return n.roles.map((function(e){return e.id})).includes(e[t].rolId)})).length;c+=a,r+=e[t].entregas.filter((function(e){return!1===e.bloque.minimo&&!0===e.aprobado})).length},s=0;s<e.length;s++)a(s);return"".concat(r,"/").concat(c)};n(539);function et(){var e,t,n=Object(o.c)((function(e){return e.user})),c=Object(o.c)((function(e){return e.bloques})),s=Object(r.useState)([]),i=Object(P.a)(s,2),l=i[0],u=i[1];Object(r.useEffect)((function(){f.a.get("/api/users/sede/".concat(n.sedeId)).then((function(e){return e.data})).then((function(e){return u(e.filter((function(e){return e.rolId>2})))})).catch((function(e){return e}))}),[n,c]),se(n,2);var d=l.map((function(e){return{key:e.id,total:"",voluntario:e.full_name,bloquesMinimos:Ze(e,c),bloquesOpcionales:Ke(e,c),entregasPendientes:Xe(e)}})),b=[{title:"Entregas pendientes por voluntario",render:function(e){return Object(N.jsxs)(a.a.Fragment,{children:[e.voluntario,Object(N.jsx)("br",{}),e.entregasPendientes]})},responsive:["xs"]},{title:"",dataIndex:"total",key:"total",responsive:["xs"]},{title:"",dataIndex:"total",key:"total",responsive:["sm"]},{title:"Voluntario",dataIndex:"voluntario",key:"voluntario",responsive:["sm"]},{title:"Bloques m\xednimos completados",dataIndex:"bloquesMinimos",key:"bloquesMinimos",responsive:["sm"]},{title:"Bloques opcionales completados",dataIndex:"bloquesOpcionales",key:"bloquesOpcionales",responsive:["sm"]},{title:"Entregas pendientes",dataIndex:"entregasPendientes",key:"entregasPendientes",responsive:["sm"]}],j=[].concat(Object(be.a)(d),[{key:"total",total:"Total",voluntario:l.length,bloquesMinimos:_e(l,c),bloquesOpcionales:$e(l,c),entregasPendientes:He(l)}]);return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)("div",{className:"dashboard",children:[Object(N.jsx)("h1",{className:"fs-3 text-secondary p-5 text-center",children:Object(N.jsxs)("strong",{children:["Dashboard de ",null===(e=n.sede)||void 0===e?void 0:e.nombre]})}),Object(N.jsx)("div",{className:"d-flex justify-content-center",children:j&&Object(N.jsx)("button",{className:"btn btn-success my-3 fs-5",children:Object(N.jsx)(Le.CSVLink,{data:j,filename:"dashboard-".concat(null===(t=n.sede)||void 0===t?void 0:t.nombre,".csv"),children:Object(N.jsxs)("p",{className:"text-light m-0",children:["Descargar ",Object(N.jsx)("i",{class:"bi bi-file-earmark-excel-fill"})]})})})}),Object(N.jsx)("div",{className:"table",children:Object(N.jsx)(ve.a,{bordered:!0,columns:b,dataSource:j,pagination:!0})})]})})}n(540);function tt(){var e=Object(r.useState)({rolId:2}),t=Object(P.a)(e,2),n=t[0],c=t[1],a=Object(o.c)((function(e){return e.user})),s=Object(o.c)((function(e){return e.sedes})),i=Object(j.g)();Object(r.useEffect)((function(){for(var e="<option selected>Seleccionar Sede</sede>",t=0;t<s.length;t++){var n,c;e+="<option value=".concat(null===(n=s[t])||void 0===n?void 0:n.id,">").concat(null===(c=s[t])||void 0===c?void 0:c.nombre,"</option>")}document.getElementById("sedes").innerHTML=e}),[s,a]),se(a,1);var u=function(e){c(Object(A.a)(Object(A.a)({},n),{},Object(l.a)({},e.target.name,e.target.value)))};return Object(N.jsxs)("div",{className:"justify-content-center align-items-center text-center py-5",children:[Object(N.jsx)("h1",{className:"fs-2 text-secondary",children:Object(N.jsx)("strong",{children:"Crear Gestor"})}),Object(N.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),n.confirmPassword===n.password){if(!ie(n.password)||!ie(n.full_name))return T.b.error("No se permiten caracteres especiales");f.a.post("/api/users/create",n).then((function(e){e.data&&T.b.success("Gestor creado correctamente")})).then((function(){i.push("/admin-usuarios")})).catch((function(e){return T.b.warning("Mail ya existente")}))}else T.b.warning("Las constrase\xf1as no coinciden")},id:"formGestor",className:"col col-xl-4 my-5",children:[Object(N.jsx)("div",{className:"mb-3",children:Object(N.jsx)("input",{required:!0,type:"text",onChange:u,name:"full_name",placeholder:"Nombre Completo",className:"form-control"})}),Object(N.jsx)("div",{className:"mb-3",children:Object(N.jsx)("input",{required:!0,type:"text",onChange:u,name:"email",placeholder:"Email",className:"form-control"})}),Object(N.jsx)("div",{className:"mb-3",children:Object(N.jsx)("input",{required:!0,type:"password",onChange:u,name:"password",placeholder:"Contrase\xf1a de acceso",className:"form-control"})}),Object(N.jsx)("div",{className:"mb-3",children:Object(N.jsx)("input",{required:!0,type:"password",onChange:u,name:"confirmPassword",placeholder:"Confirme la contrase\xf1a",className:"form-control"})}),Object(N.jsx)("div",{className:"mb-3",children:Object(N.jsx)("select",{required:!0,id:"sedes",type:"text",onChange:u,name:"sedeId",placeholder:"Sede",className:"form-select"})}),Object(N.jsx)("button",{type:"submit",className:"button-style green button-style-form my-3 p-2 fs-4",children:"Crear"})]})]})}n(541);function nt(){var e=Object(o.c)((function(e){return e.user})),t=Object(o.c)((function(e){return e.sedes})),n=Object(o.c)((function(e){return e.users})),c=Object(o.c)((function(e){return e.bloques})),s=Object(r.useState)([]),i=Object(P.a)(s,2),l=i[0],u=i[1];se(e,1),Object(r.useEffect)((function(){f.a.get("/api/users/entregas").then((function(e){return e.data})).then((function(e){return u(e.filter((function(e){return e.rolId>2})))})).catch((function(e){return e}))}),[e,c]);var d=[{title:"Sede",render:function(e){return Object(N.jsx)(a.a.Fragment,{children:e.sede})},responsive:["xs"]},{title:"",dataIndex:"total",key:"total",responsive:["sm"]},{title:"Sede",dataIndex:"sede",key:"sede",responsive:["sm"]},{title:"Voluntarios",dataIndex:"voluntarios",key:"voluntarios",responsive:["sm"]},{title:"Gestores",dataIndex:"gestores",key:"gestores",responsive:["sm"]},{title:"Bloques m\xednimos completados",dataIndex:"minimos",key:"minimos"},{title:"Bloques opcionales completados",dataIndex:"opcionales",key:"opcionales"}];se(e,1),Object(r.useEffect)((function(){f.a.get("/api/users/entregas").then((function(e){return e.data})).then((function(e){return u(e.filter((function(e){return e.rolId>2})))})).catch((function(e){return e}))}),[e,c]);var b=t.map((function(e){var t=n.filter((function(t){return t.sedeId===e.id})),r=0,a=0,s=0,i=0,o=l.filter((function(t){return t.sedeId===e.id}));return o.forEach((function(e){return r+=We(e)})),o.forEach((function(e){return s+=Je(e)})),o.forEach((function(e){return a+=ze(e,c)})),o.forEach((function(e){return i+=Qe(e,c)})),{key:e.id,total:"",sede:e.nombre,voluntarios:t.filter((function(e){return e.rolId>2})).length,gestores:t.filter((function(e){return 2===e.rolId})).length,minimos:"".concat(r,"/").concat(a),opcionales:"".concat(s,"/").concat(i)}})),j=[].concat(Object(be.a)(b),[{key:"total",total:"Total",sede:t.length,voluntarios:n.filter((function(e){return e.rolId>2})).length,gestores:n.filter((function(e){return 2===e.rolId})).length,minimos:"".concat(function(){var e=0;return l.forEach((function(t){return e+=We(t)})),e}(),"/").concat(function(){var e=0;return l.forEach((function(t){return e+=ze(t,c)})),e}()),opcionales:"".concat(function(){var e=0;return l.forEach((function(t){return e+=Je(t)})),e}(),"/").concat(function(){var e=0;return l.forEach((function(t){return e+=Qe(t,c)})),e}())}]);return Object(N.jsxs)("div",{className:"text-center",children:[Object(N.jsx)("h1",{className:"fs-2 text-secondary p-5",children:Object(N.jsx)("strong",{children:"Dashboard Nacional"})}),Object(N.jsx)("div",{className:"d-flex justify-content-center",children:j&&Object(N.jsx)("button",{className:"btn btn-success my-3 fs-5",children:Object(N.jsx)(Le.CSVLink,{data:j,filename:"dashboard-nacional.csv",children:Object(N.jsxs)("p",{className:"text-light m-0",children:["Descargar ",Object(N.jsx)("i",{className:"bi bi-file-earmark-excel-fill"})]})})})}),Object(N.jsx)("div",{className:"table",children:Object(N.jsx)(ve.a,{bordered:!0,dataSource:j,columns:d,pagination:!1})})]})}var ct=function(){return Object(N.jsx)("div",{className:"content",children:Object(N.jsxs)(j.d,{children:[Object(N.jsx)(j.b,{path:"/sede",component:me}),Object(N.jsx)(j.b,{exact:!0,path:"/user",component:Y}),Object(N.jsx)(j.b,{path:"/mis-bloques/:id",component:H}),Object(N.jsx)(j.b,{exact:!0,path:"/mis-bloques",component:z}),Object(N.jsx)(j.b,{path:"/mis-entregas",component:Ue}),Object(N.jsx)(j.b,{exact:!0,path:"/gestor",component:oe}),Object(N.jsx)(j.b,{path:"/gestor/voluntarios",component:ye}),Object(N.jsx)(j.b,{exact:!0,path:"/gestor/entregas",component:Ve}),Object(N.jsx)(j.b,{path:"/gestor/dashboard",component:et}),Object(N.jsx)(j.b,{exact:!0,path:"/gestor/entregas/:id",component:Ye}),Object(N.jsx)(j.b,{path:"/gestor-password",component:oe}),Object(N.jsx)(j.b,{exact:!0,path:"/admin-bloques",component:Ae}),Object(N.jsx)(j.b,{path:"/admin-bloques-crear",component:Be}),Object(N.jsx)(j.b,{path:"/admin-bloques/:id",component:Re}),Object(N.jsx)(j.b,{exact:!0,path:"/admin/dashboard",component:nt}),Object(N.jsx)(j.b,{exact:!0,path:"/admin-usuarios",component:ue}),Object(N.jsx)(j.b,{exact:!0,path:"/admin-sedes",component:qe}),Object(N.jsx)(j.b,{exact:!0,path:"/admin-roles",component:Me}),Object(N.jsx)(j.b,{path:"/admin-usuarios/sede/:id",component:pe}),Object(N.jsx)(j.b,{path:"/admin-crear-gestor",component:tt}),Object(N.jsx)(j.b,{path:"/unauthorized",component:de}),Object(N.jsx)(j.a,{from:"*",to:"/user"})]})})};n(542);var rt=function(){var e=Object(o.b)(),t=Object(j.h)(),n=Object(j.g)();return Object(r.useEffect)((function(){e(te()).then((function(){return e(Ee())})).then((function(){return e(Ne())})).then((function(){return e(Fe())})).then((function(){return e(Ee())})),f.a.get("/api/users/me").then((function(e){return e.data})).then((function(e){return f.a.get("/api/users/".concat(e.id))})).then((function(e){return e.data})).then((function(t){return e(d(t))})).catch((function(e){"/adminlogin"!==t.pathname&&n.push("/")}))}),[e,n,t.pathname]),Object(N.jsxs)("div",{className:"App",children:["/"!==t.pathname&&"/adminlogin"!==t.pathname&&Object(N.jsx)(C,{}),"/"!==t.pathname&&"/adminlogin"!==t.pathname&&Object(N.jsx)(S,{}),Object(N.jsxs)(j.d,{children:[Object(N.jsx)(j.b,{exact:!0,path:"/",component:M}),Object(N.jsx)(j.b,{exact:!0,path:"/adminlogin",component:M}),Object(N.jsx)(j.b,{component:ct})]})]})},at=Object(u.c)("GET-MODULOS",(function(){return f.a.get("/api/unidades").then((function(e){return e.data}))})),st=Object(u.d)([],Object(l.a)({},at.fulfilled,(function(e,t){return t.payload}))),it=Object(u.a)({reducer:{user:b,users:ce,sedes:Ie,roles:Ge,bloques:we,unidades:st}});i.a.render(Object(N.jsx)(a.a.StrictMode,{children:Object(N.jsx)(o.a,{store:it,children:Object(N.jsx)(h.a,{children:Object(N.jsx)(rt,{})})})}),document.getElementById("root"))}},[[543,1,2]]]);